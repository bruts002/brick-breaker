{"version":3,"sources":["file:///webpack/bootstrap","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Entity.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/interfaces/PlayerTypes.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/node_modules/css-loader/dist/runtime/api.js","file:////Users/michaelbrutskiy/workspace/brick-breaker/node_modules/style-loader/lib/addStyles.js","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/micro/index.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Constants.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/UserScore/UserScore.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Paddle.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Guy.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/CollisionUtil.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/biblioteca/Modal.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/index.tsx","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/micro/vdom.tsx","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/micro/Component.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/GameBoard.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Ball.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Trajectory.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Block.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/AI.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/interfaces/Reward.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Bullet.ts","webpack:///./biblioteca/modal.css?1b11","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/biblioteca/modal.css","file:////Users/michaelbrutskiy/workspace/brick-breaker/node_modules/style-loader/lib/urls.js","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/StatusBar/StatusBar.ts","webpack:///./App/GameBoard/StatusBar/status-bar.css?28a7","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/StatusBar/status-bar.css","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/GameBoard/Reward.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/LevelSelector.tsx","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/LevelThumbNails.ts","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/levels/AllLevels.ts","webpack:///./App/LevelSelector/level-thumb-nail.css?c028","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/level-thumb-nail.css","file:////Users/michaelbrutskiy/workspace/brick-breaker/node_modules/css-loader/dist/runtime/url-escape.js","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/images/locked.png","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/images/completed.png","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/Overview.tsx","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/util/Loader.ts","webpack:///./App/LevelSelector/level-selector.css?6ac5","file:////Users/michaelbrutskiy/workspace/brick-breaker/src/App/LevelSelector/level-selector.css"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Constants_1","Trajectory_1","Entity","point","size","traj","type","mountNode","attributes","_this","this","domElement","document","createElementNS","SVGNAMESPACE","setAttribute","String","x","y","default","radius","width","height","undefined","keys","forEach","appendChild","destroy","removeChild","updateDOMPosition","newPoint","xAttr","yAttr","updateSize","getTraj","invertTraj","axis","invert","getNextPosition","getPoint","getSize","getRadius","PlayerTypes","useSourceMap","list","toString","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","fn","memo","stylesInDom","isOldIE","window","all","atob","apply","arguments","getElement","target","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","before","removeStyleElement","parentNode","idx","indexOf","splice","createStyleElement","createElement","attrs","nonce","nc","getNonce","addAttrs","el","obj","update","remove","result","transform","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","vdom_1","Component_1","Component","micro","render","newNode","updateElement","h","Fragment","console","error","TypeError","PlayerTypes_1","getKey","level","setScore","playerType","score","levelKey","raw","localStorage","getItem","data","parse","setItem","_a","getScore","info","defender","capture","Math","max","Entity_1","Reward_1","Paddle","_super","boardSize","paddleConfig","emitBullet","position","defaults","sheild","opacity","moveAmount","__extends","moveLeft","nxtLeft","nextLeft","maxMove","moveRight","nxtRight","nextRight","applyReward","rewardType","wide","makeWide","makeDefault","updateColor","getColor","strength","activateSheld","useReward","machine","shootMachine","rocket","shootRocket","start","sizes","moveUp","moveDown","fill","stroke","stroke-width","Guy","guyConfig","hitCount","speed","grow","MAX_WIDTH","MAX_HEIGHT","getHit","str","reward","setIndex","hitsIt","pointX","blockStart","val","getDistance","p1","p2","distX","distY","sqrt","isCollision","p2Size","isNear","circlePoint","blockPoint","blockSize","blockDist","Modal","showClose","mdl","extensionPoint","innerHTML","attachCloseButton","display","body","clsBtn","addEventListener","closeButton","show","message","cb","hide","classList","GameBoard_1","LevelSelector_1","Main","levelSelector","setLevel","levelNumber","option","clearLevel","gameBoard","init","getElementById","props","children","_i","node","$el","setProps","addEventListeners","child","$parent","oldNode","node1","node2","n2","changed","replaceChild","updateProps","newLength","oldLength","setProp","$target","isCustomProp","setBooleanProp","isEventProp","updateProp","newVal","oldVal","removeAttribute","removeBooleanProp","removeProp","newProps","oldProps","__assign","prop","test","slice","toLowerCase","extractEventName","micro_1","mountComponent","prevRender","updateComponent","newRender","setState","newState","state","Ball_1","Block_1","AI_1","Paddle_1","Guy_1","Bullet_1","CollisionUtil_1","Modal_1","UserScore_1","StatusBar_1","GameBoard","activeKeys","Map","modal","balls","bullets","rewards","levelEnded","statusBar","rewardSelect","player","renderedBlocks","renderBlocks","blocks","renderBalls","buildPlayerAndAI","paddle","guy","globalKeyListener","buildPaddle","buildGuy","ai","removeEventListener","hasChildNodes","lastChild","attachKeyListeners","updateInterval","setInterval","isPaused","removeKeyListeners","keyUpDownHandler","createBullet","buildBall","ballConfig","renderBlock","block","dropReward","destroyBlock","getBlock","some","b","getGuy","guyPoint","guySize","endGame","msg","success","clearInterval","stop","isGameEnded","updateBalls","updateBullets","updateRewards","dispatchActions","updateAI","updateScore","what","addReward","toDelete","offset","nxtPos","paddlePos","paddleSize","bulletsToDelete","bullet","blockStrength","bulletStrength","curPos","hitBlockX","hitBlockY","getSpeed","indexSpeed","isDestroyed","getStrength","ballsToDelete","ball","candidatPoint","isKeyDown","set","keyCode","pauseGame","onKeyLeft","onKeyRight","onKeyUp","onKeyDown","onSpaceBar","makeMove","Ball","trajectory","Trajectory","abs","hyp","hypot","Block","config","getBlockColor","likelyToFallFirst","a","aTraj","bTraj","aY","bY","getMovesTillDrop","entity","boardHeight","paddleHeight","getEntityDropPoint","movesTillHit","xCoord","xOverFlow","isLeft","isRight","entitiesToGoFor","dropPoint","movesTillDrop","nearestPaddlePoint","distance","catchable","sort","entities","onlyOneLeft","nxtPoint","nxtNxtPoint","candidate","current","canAndShouldMoveLeft","canAndShouldMoveRight","movePaddleToEntity","makePaddleMove","Reward","Bullet","sign","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","StatusBar","levelName","add","getInnerHTML","ID","SCORE","REWARDS","removeSelection","selected","SELECTED","onclick","LevelThumbNails_1","Overview_1","Loader_1","LevelSelector","overview","startLevel","levelThumbNails","updateOverview","defenderScore","captureScore","defaultMessage","then","catch","warn","AllLevels_1","LevelThumbNails","levelSelectCB","domNode","attachLevelNodes","prevLevelComplete","levelNode","levelComplete","minScore","prev","levelTemplate","src","urlEscape","___CSS_LOADER_URL___0___","___CSS_LOADER_URL___1___","url","needQuotes","Overview","defaultProps","callStartLevel","selectedOption","setOptionDefender","setOptionCapture","className","onClick","Load","loadedLevels","has","serveFromCache","pendingLevels","promise","fetch","getUrl","method","headers","Content-Type","resp","json","toLevel","levelI","saveLevel","delete","Promise","resolve"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,oFClFA,IAAAC,EAAApC,EAAA,GAGAqC,EAAArC,EAAA,IAEAsC,EAAA,WAUI,SAAAA,EACIC,EACAC,EACAC,EACAC,EACAC,EACAC,GANJ,IAAAC,EAAAC,KAQIA,KAAKC,WAAaC,SAASC,gBAAiBb,EAAAc,aAAcR,GAC1DI,KAAKJ,KAAOA,EACZI,KAAKP,MAAQA,EACbO,KAAKC,WAAWI,aAAc,IAAKC,OAAQN,KAAKP,MAAMc,IACtDP,KAAKC,WAAWI,aAAc,IAAKC,OAAQN,KAAKP,MAAMe,IACtDR,KAAKL,KAAO,IAAIJ,EAAAkB,QAAYd,GACT,WAAdK,KAAKJ,MACNI,KAAKU,QAAUhB,EACfM,KAAKC,WAAWI,aAAc,IAAKC,OAAQN,KAAKU,WAEhDV,KAAKN,KAAaA,EAClBM,KAAKC,WAAWI,aAAc,QAASC,OAAQN,KAAKN,KAAKiB,QACzDX,KAAKC,WAAWI,aAAc,SAAUC,OAAQN,KAAKN,KAAKkB,eAE1CC,IAAff,GACD9B,OAAO8C,KAAKhB,GAAYiB,QAAS,SAAAlC,GAC7B,OAAAkB,EAAKE,WAAWI,aAAcxB,EAAKyB,OAAQR,EAAWjB,OAI9DmB,KAAKH,UAAYA,EACjBG,KAAKH,UAAUmB,YAAahB,KAAKC,YA8DzC,OA3DWT,EAAAN,UAAA+B,QAAP,WACIjB,KAAKH,UAAUqB,YAAalB,KAAKC,aAG9BT,EAAAN,UAAAiC,kBAAP,SAA0BC,GACtB,IAAIC,EAAgB,GAChBC,EAAgB,QACFT,IAAbO,IACDpB,KAAKP,MAAQ2B,GAEE,WAAdpB,KAAKJ,MACNyB,EAAQ,KACRC,EAAQ,MACc,SAAdtB,KAAKJ,OACbyB,EAAQ,IACRC,EAAQ,KAEZtB,KAAKC,WAAWI,aAAcgB,EAAOf,OAAQN,KAAKP,MAAMc,IACxDP,KAAKC,WAAWI,aAAciB,EAAOhB,OAAQN,KAAKP,MAAMe,KAGlDhB,EAAAN,UAAAqC,WAAV,SAAsB7B,GACC,WAAdM,KAAKJ,MACDF,IAAOM,KAAKU,QAAUhB,GAC3BM,KAAKC,WAAWI,aAAc,IAAKC,OAAQN,KAAKU,WAE3ChB,IAAOM,KAAKN,KAAaA,GAC9BM,KAAKC,WAAWI,aAAc,QAASC,OAAQN,KAAKN,KAAKiB,QACzDX,KAAKC,WAAWI,aAAc,SAAUC,OAAQN,KAAKN,KAAKkB,WAI3DpB,EAAAN,UAAAsC,QAAP,WACI,OAAOxB,KAAKL,MAGTH,EAAAN,UAAAuC,WAAP,SAAmBC,GACf1B,KAAKL,KAAKgC,OAAQD,IAGflC,EAAAN,UAAA0C,gBAAP,WACI,MAAO,CACHrB,EAAGP,KAAKP,MAAMc,EAAIP,KAAKL,KAAKY,EAC5BC,EAAGR,KAAKP,MAAMe,EAAIR,KAAKL,KAAKa,IAI7BhB,EAAAN,UAAA2C,SAAP,WACI,OAAO7B,KAAKP,OAGTD,EAAAN,UAAA4C,QAAP,WACI,OAAO9B,KAAKN,MAGTF,EAAAN,UAAA6C,UAAP,WACI,OAAO/B,KAAKU,QAGpBlB,EArGA,6CCLA,IAAKwC,mDAAL,SAAKA,GACDA,EAAA,kBACAA,EAAA,oBAFJ,CAAKA,MAAW,KAKhB5E,EAAAqD,QAAeuB,gCCEf3E,EAAAD,QAAA,SAAA6E,GACA,IAAAC,EAAA,GAgDA,OA9CAA,EAAAC,SAAA,WACA,OAAAnC,KAAAoC,IAAA,SAAAC,GACA,IAAAC,EA+CA,SAAAD,EAAAJ,GACA,IAAAK,EAAAD,EAAA,OACAE,EAAAF,EAAA,GAEA,IAAAE,EACA,OAAAD,EAGA,GAAAL,GAAA,mBAAAO,KAAA,CACA,IAAAC,GAWAC,EAXAH,EAeA,mEAFAC,KAAAG,SAAAC,mBAAAC,KAAAC,UAAAJ,MAEA,OAdAK,EAAAR,EAAAS,QAAAZ,IAAA,SAAAa,GACA,uBAAAV,EAAAW,WAAAD,EAAA,QAEA,OAAAX,GAAAa,OAAAJ,GAAAI,OAAA,CAAAV,IAAAW,KAAA,MAOA,IAAAV,EAJA,OAAAJ,GAAAc,KAAA,MA/DAC,CAAAhB,EAAAJ,GAEA,OAAAI,EAAA,GACA,UAAAA,EAAA,OAAuCC,EAAA,IAEvCA,IAEKc,KAAA,KAILlB,EAAA5E,EAAA,SAAAE,EAAA8F,GACA,iBAAA9F,IACAA,EAAA,OAAAA,EAAA,MAKA,IAFA,IAAA+F,EAAA,GAEAjG,EAAA,EAAmBA,EAAA0C,KAAAwD,OAAiBlG,IAAA,CACpC,IAAAmG,EAAAzD,KAAA1C,GAAA,GAEA,MAAAmG,IACAF,EAAAE,IAAA,GAIA,IAAAnG,EAAA,EAAeA,EAAAE,EAAAgG,OAAoBlG,IAAA,CACnC,IAAA+E,EAAA7E,EAAAF,GAKA,MAAA+E,EAAA,IAAAkB,EAAAlB,EAAA,MACAiB,IAAAjB,EAAA,GACAA,EAAA,GAAAiB,EACSA,IACTjB,EAAA,OAAAA,EAAA,aAAAiB,EAAA,KAGApB,EAAAwB,KAAArB,MAKAH,oBCnDA,IAEAyB,EACAC,EAHAC,EAAA,GAWAC,GATAH,EASA,WAMA,OAAAI,QAAA7D,mBAAA8D,MAAAD,OAAAE,MAZA,WAEA,YADA,IAAAL,MAAAD,EAAAO,MAAAlE,KAAAmE,YACAP,IAoBAQ,EAAA,SAAAT,GACA,IAAAC,EAAA,GAEA,gBAAAS,EAAAC,GAMA,sBAAAD,EACA,OAAAA,IAEA,YAAAT,EAAAS,GAAA,CACA,IAAAE,EApBA,SAAAF,EAAAC,GACA,OAAAA,EACAA,EAAAE,cAAAH,GAEAnE,SAAAsE,cAAAH,IAgBA5G,KAAAuC,KAAAqE,EAAAC,GAEA,GAAAP,OAAAU,mBAAAF,aAAAR,OAAAU,kBACA,IAGAF,IAAAG,gBAAAC,KACK,MAAAC,GACLL,EAAA,KAGAX,EAAAS,GAAAE,EAEA,OAAAX,EAAAS,IA1BA,GA8BAQ,EAAA,KACAC,EAAA,EACAC,EAAA,GAEAC,EAAc9H,EAAQ,IAqDtB,SAAA+H,EAAAC,EAAAC,GACA,QAAA7H,EAAA,EAAgBA,EAAA4H,EAAA1B,OAAmBlG,IAAA,CACnC,IAAA+E,EAAA6C,EAAA5H,GACA8H,EAAAvB,EAAAxB,EAAAoB,IAEA,GAAA2B,EAAA,CACAA,EAAAC,OAEA,QAAAC,EAAA,EAAiBA,EAAAF,EAAAG,MAAA/B,OAA2B8B,IAC5CF,EAAAG,MAAAD,GAAAjD,EAAAkD,MAAAD,IAGA,KAAQA,EAAAjD,EAAAkD,MAAA/B,OAAuB8B,IAC/BF,EAAAG,MAAA7B,KAAA8B,EAAAnD,EAAAkD,MAAAD,GAAAH,QAEG,CACH,IAAAI,EAAA,GAEA,IAAAD,EAAA,EAAiBA,EAAAjD,EAAAkD,MAAA/B,OAAuB8B,IACxCC,EAAA7B,KAAA8B,EAAAnD,EAAAkD,MAAAD,GAAAH,IAGAtB,EAAAxB,EAAAoB,IAAA,CAA2BA,GAAApB,EAAAoB,GAAA4B,KAAA,EAAAE,WAK3B,SAAAE,EAAAvD,EAAAiD,GAIA,IAHA,IAAAD,EAAA,GACAQ,EAAA,GAEApI,EAAA,EAAgBA,EAAA4E,EAAAsB,OAAiBlG,IAAA,CACjC,IAAA+E,EAAAH,EAAA5E,GACAmG,EAAA0B,EAAAQ,KAAAtD,EAAA,GAAA8C,EAAAQ,KAAAtD,EAAA,GAIAuD,EAAA,CAAcC,IAHdxD,EAAA,GAGcyD,MAFdzD,EAAA,GAEcK,UADdL,EAAA,IAGAqD,EAAAjC,GACAiC,EAAAjC,GAAA8B,MAAA7B,KAAAkC,GADAV,EAAAxB,KAAAgC,EAAAjC,GAAA,CAAkDA,KAAA8B,MAAA,CAAAK,KAIlD,OAAAV,EAGA,SAAAa,EAAAZ,EAAAa,GACA,IAAA3B,EAAAD,EAAAe,EAAAc,YAEA,IAAA5B,EACA,UAAA6B,MAAA,+GAGA,IAAAC,EAAApB,IAAAvB,OAAA,GAEA,WAAA2B,EAAAiB,SACAD,EAEGA,EAAAE,YACHhC,EAAAiC,aAAAN,EAAAG,EAAAE,aAEAhC,EAAArD,YAAAgF,GAJA3B,EAAAiC,aAAAN,EAAA3B,EAAAkC,YAMAxB,EAAArB,KAAAsC,QACE,cAAAb,EAAAiB,SACF/B,EAAArD,YAAAgF,OACE,qBAAAb,EAAAiB,WAAAjB,EAAAiB,SAAAI,OAIF,UAAAN,MAAA,8LAHA,IAAAG,EAAAjC,EAAAe,EAAAiB,SAAAI,OAAAnC,GACAA,EAAAiC,aAAAN,EAAAK,IAMA,SAAAI,EAAAT,GACA,UAAAA,EAAAU,WAAA,SACAV,EAAAU,WAAAxF,YAAA8E,GAEA,IAAAW,EAAA5B,EAAA6B,QAAAZ,GACAW,GAAA,GACA5B,EAAA8B,OAAAF,EAAA,GAIA,SAAAG,EAAA3B,GACA,IAAAa,EAAA9F,SAAA6G,cAAA,SAMA,QAJAlG,IAAAsE,EAAA6B,MAAApH,OACAuF,EAAA6B,MAAApH,KAAA,iBAGAiB,IAAAsE,EAAA6B,MAAAC,MAAA,CACA,IAAAA,EAgCA,WACK,EAIL,OAAQ/J,EAAAgK,GArCRC,GACAF,IACA9B,EAAA6B,MAAAC,SAOA,OAHAG,EAAApB,EAAAb,EAAA6B,OACAjB,EAAAZ,EAAAa,GAEAA,EAiBA,SAAAoB,EAAAC,EAAAL,GACAhJ,OAAA8C,KAAAkG,GAAAjG,QAAA,SAAAlC,GACAwI,EAAAhH,aAAAxB,EAAAmI,EAAAnI,MAYA,SAAA2G,EAAA8B,EAAAnC,GACA,IAAAa,EAAAuB,EAAAC,EAAAC,EAGA,GAAAtC,EAAAuC,WAAAJ,EAAAzB,IAAA,CAKA,KAJA4B,EAAA,mBAAAtC,EAAAuC,UACAvC,EAAAuC,UAAAJ,EAAAzB,KACAV,EAAAuC,UAAAjH,QAAA6G,EAAAzB,MASA,oBAJAyB,EAAAzB,IAAA4B,EAUA,GAAAtC,EAAAN,UAAA,CACA,IAAA8C,EAAA7C,IAEAkB,EAAAnB,MAAAiC,EAAA3B,IAEAoC,EAAAK,EAAA9I,KAAA,KAAAkH,EAAA2B,GAAA,GACAH,EAAAI,EAAA9I,KAAA,KAAAkH,EAAA2B,GAAA,QAGAL,EAAA5E,WACA,mBAAAmF,KACA,mBAAAA,IAAAC,iBACA,mBAAAD,IAAAE,iBACA,mBAAAC,MACA,mBAAAxF,MAEAwD,EAlEA,SAAAb,GACA,IAAA8C,EAAA/H,SAAA6G,cAAA,QAUA,YARAlG,IAAAsE,EAAA6B,MAAApH,OACAuF,EAAA6B,MAAApH,KAAA,YAEAuF,EAAA6B,MAAAkB,IAAA,aAEAd,EAAAa,EAAA9C,EAAA6B,OACAjB,EAAAZ,EAAA8C,GAEAA,EAuDAE,CAAAhD,GACAoC,EAiFA,SAAAU,EAAA9C,EAAAmC,GACA,IAAAzB,EAAAyB,EAAAzB,IACAnD,EAAA4E,EAAA5E,UAQA0F,OAAAvH,IAAAsE,EAAAkD,uBAAA3F,GAEAyC,EAAAkD,uBAAAD,KACAvC,EAAAb,EAAAa,IAGAnD,IAEAmD,GAAA,uDAAuDrD,KAAAG,SAAAC,mBAAAC,KAAAC,UAAAJ,MAAA,OAGvD,IAAA4F,EAAA,IAAAN,KAAA,CAAAnC,GAAA,CAA6BjG,KAAA,aAE7B2I,EAAAN,EAAAO,KAEAP,EAAAO,KAAAX,IAAAC,gBAAAQ,GAEAC,GAAAV,IAAAE,gBAAAQ,IA5GAzJ,KAAA,KAAAkH,EAAAb,GACAqC,EAAA,WACAf,EAAAT,GAEAA,EAAAwC,MAAAX,IAAAE,gBAAA/B,EAAAwC,SAGAxC,EAAAc,EAAA3B,GACAoC,EAsDA,SAAAvB,EAAAsB,GACA,IAAAzB,EAAAyB,EAAAzB,IACAC,EAAAwB,EAAAxB,MAEAA,GACAE,EAAA3F,aAAA,QAAAyF,GAGA,GAAAE,EAAAyC,WACAzC,EAAAyC,WAAAC,QAAA7C,MACE,CACF,KAAAG,EAAAO,YACAP,EAAA9E,YAAA8E,EAAAO,YAGAP,EAAAhF,YAAAd,SAAAyI,eAAA9C,MArEA/G,KAAA,KAAAkH,GACAwB,EAAA,WACAf,EAAAT,KAMA,OAFAuB,EAAAD,GAEA,SAAAsB,GACA,GAAAA,EAAA,CACA,GACAA,EAAA/C,MAAAyB,EAAAzB,KACA+C,EAAA9C,QAAAwB,EAAAxB,OACA8C,EAAAlG,YAAA4E,EAAA5E,UAEA,OAGA6E,EAAAD,EAAAsB,QAEApB,KA1PAnK,EAAAD,QAAA,SAAA8E,EAAAiD,GACA,uBAAA0D,cACA,iBAAA3I,SAAA,UAAAgG,MAAA,iEAGAf,KAAA,IAEA6B,MAAA,iBAAA7B,EAAA6B,MAAA7B,EAAA6B,MAAA,GAIA7B,EAAAN,WAAA,kBAAAM,EAAAN,YAAAM,EAAAN,UAAAf,KAGAqB,EAAAc,aAAAd,EAAAc,WAAA,QAGAd,EAAAiB,WAAAjB,EAAAiB,SAAA,UAEA,IAAAlB,EAAAO,EAAAvD,EAAAiD,GAIA,OAFAF,EAAAC,EAAAC,GAEA,SAAA2D,GAGA,IAFA,IAAAC,EAAA,GAEAzL,EAAA,EAAiBA,EAAA4H,EAAA1B,OAAmBlG,IAAA,CACpC,IAAA+E,EAAA6C,EAAA5H,IACA8H,EAAAvB,EAAAxB,EAAAoB,KAEA4B,OACA0D,EAAArF,KAAA0B,GAGA0D,GAEA7D,EADAQ,EAAAqD,EAAA3D,GACAA,GAGA,IAAA7H,EAAA,EAAiBA,EAAAyL,EAAAvF,OAAsBlG,IAAA,CACvC,IAAA8H,EAEA,QAFAA,EAAA2D,EAAAzL,IAEA+H,KAAA,CACA,QAAAC,EAAA,EAAmBA,EAAAF,EAAAG,MAAA/B,OAA2B8B,IAAAF,EAAAG,MAAAD,YAE9CzB,EAAAuB,EAAA3B,QAkNA,IACAuF,EADAC,GACAD,EAAA,GAEA,SAAAE,EAAAC,GAGA,OAFAH,EAAAE,GAAAC,EAEAH,EAAAI,OAAAC,SAAAjG,KAAA,QAIA,SAAAwE,EAAA5B,EAAAkD,EAAA1B,EAAAF,GACA,IAAAzB,EAAA2B,EAAA,GAAAF,EAAAzB,IAEA,GAAAG,EAAAyC,WACAzC,EAAAyC,WAAAC,QAAAO,EAAAC,EAAArD,OACE,CACF,IAAAyD,EAAApJ,SAAAyI,eAAA9C,GACA0D,EAAAvD,EAAAuD,WAEAA,EAAAL,IAAAlD,EAAA9E,YAAAqI,EAAAL,IAEAK,EAAA/F,OACAwC,EAAAM,aAAAgD,EAAAC,EAAAL,IAEAlD,EAAAhF,YAAAsI,oFC3VA,IAAAE,EAAAtM,EAAA,IACAuM,EAAAvM,EAAA,IA+BSE,EAAAsM,UA/BFD,EAAAhJ,QAWP,IAYMkJ,EAAQ,CACZC,OARuB,SACvBC,EACAhK,GAEA2J,EAAAM,cAAcjK,EAAWgK,IAKzBC,cAAaN,EAAAM,cACbC,EAACP,EAAAO,EACDC,SAhByB,WAEzB,MADAC,QAAQC,MAAM,4BACR,IAAIC,UAAU,6BAepBT,UAASD,EAAAhJ,SAIXrD,EAAAqD,QAAekJ,iFCjCFvM,EAAAgD,aAAe,4GCA5B,IAAAgK,EAAAlN,EAAA,GAEA,SAASmN,EAAQC,GACb,MAAO,SAASA,EAiCpBlN,EAAAqD,QAAe,CACX8J,SA/BJ,SAAmBD,EAAeE,EAAyBC,SACjDC,EAAWL,EAAQC,GACnBK,EAAMC,aAAaC,QAASH,GAClC,GAAMC,EAIC,CACH,IAAIG,EAAOjI,KAAKkI,MAAOJ,KACjBG,EAAKN,IAAeC,EAAQK,EAAKN,MACnCM,EAAKN,GAAcC,EACnBG,aAAaI,QAASN,EAAU7H,KAAKC,UAAWgI,UAPpDF,aAAaI,QAASN,EAAU7H,KAAKC,YAASmI,EAAA,IACzCT,GAAaC,QA2BtBS,SAhBJ,SAAmBZ,EAAe1K,GAC9B,IAAM8K,EAAWL,EAAQC,GACnBK,EAAMC,aAAaC,QAASH,GAClC,IAAMC,EAAM,OAAO,EACnB,IAAMQ,EAAOtI,KAAKkI,MAAOJ,GACzB,IAAM/K,EAAO,CACT,GAAKuL,EAAKC,UAAYD,EAAKE,QAAU,OAAOC,KAAKC,IAAKJ,EAAKC,SAAUD,EAAKE,SAC1E,GAAKF,EAAKC,SAAW,OAAOD,EAAKC,SACjC,GAAKD,EAAKE,QAAU,OAAOF,EAAKE,QAEpC,OAAKzL,IAASwK,EAAA3J,QAAY4K,QAAiBF,EAAKE,QAAUF,EAAKE,QAAU,EACpEzL,IAASwK,EAAA3J,QAAY2K,SAAkBD,EAAKC,SAAWD,EAAKC,SAAW,OAA5E,maCjCJ,IAAA9L,EAAApC,EAAA,GAGAsO,EAAAtO,EAAA,GACAuO,EAAAvO,EAAA,IAIAwO,EAAA,SAAAC,GAMI,SAAAD,EACYE,EACR/L,EACAgM,EACQC,GAJZ,IAAA/L,EAMI4L,EAAAlO,KAAAuC,KACI6L,EAAaE,SACbF,EAAanM,KACb,CAAEa,EAAG,EAAGC,EAAG,GACX,OACAX,EACAgM,EAAa/L,YAAc4L,EAAOM,SAASlM,aAC9CE,YAZOD,EAAA6L,YAGA7L,EAAA+L,aAUR/L,EAAKkM,OAAS/L,SAASC,gBAAiBb,EAAAc,aAAc,UACtDL,EAAKkM,OAAO5L,aAAa,KAAMC,OAAQuL,EAAaE,SAASxL,EAAIsL,EAAanM,KAAKiB,MAAQ,IAC3FZ,EAAKkM,OAAO5L,aAAa,KAAMC,OAAQuL,EAAaE,SAASvL,IAC7DT,EAAKkM,OAAOjG,MAAMkG,QAAU,MAC5BnM,EAAKoM,WAAaT,EAAOM,SAASG,aAoH1C,OA5IoCC,EAAAV,EAAAC,GAwCzBD,EAAAxM,UAAAmN,SAAP,WACI,IAAMC,EAAkBtM,KAAKuM,WACxBvM,KAAKP,MAAMc,IAAM+L,IAClBtM,KAAKP,MAAMc,EAAI+L,EACftM,KAAKmB,sBAINuK,EAAAxM,UAAAqN,SAAP,WAEI,IADA,IAAIC,EAAUxM,KAAKmM,WACVnM,KAAKP,MAAMc,EAAIiM,EAAY,GAChCA,IAEJ,OAAOxM,KAAKP,MAAMc,EAAIiM,GAGnBd,EAAAxM,UAAAuN,UAAP,WACI,IAAMC,EAAmB1M,KAAK2M,YACzB3M,KAAKP,MAAMc,IAAMmM,IAClB1M,KAAKP,MAAMc,EAAImM,EACf1M,KAAKmB,sBAINuK,EAAAxM,UAAAyN,UAAP,WAEI,IADA,IAAIH,EAAUxM,KAAKmM,WACVnM,KAAKP,MAAMc,EAAIP,KAAKN,KAAKiB,MAAQ6L,EAAYxM,KAAK4L,UAAUjL,OACjE6L,IAEJ,OAAOxM,KAAKP,MAAMc,EAAIiM,GAGnBd,EAAAxM,UAAA0N,YAAP,SAAoBC,GAChB7M,KAAK6M,WAAaA,EACb7M,KAAK6M,aAAepB,EAAAhL,QAAWqM,KAAO9M,KAAK+M,WAC3C/M,KAAKgN,cACVhN,KAAKiN,eAGDvB,EAAAxM,UAAA+N,YAAR,WACIjN,KAAKC,WAAWI,aAAc,OAAQqL,EAAOwB,SAAUlN,KAAK6M,cAGjDnB,EAAAwB,SAAf,SAAyBC,GACrB,OAASA,GACL,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,QACA,KAAK,EAAG,MAAO,YAGhBzB,EAAAxM,UAAAkO,cAAP,aAGO1B,EAAAxM,UAAAmO,UAAP,WACI,OAAQrN,KAAK6M,YACT,KAAKpB,EAAAhL,QAAW6M,QACZtN,KAAKuN,eACL,MACJ,KAAK9B,EAAAhL,QAAW+M,OACZxN,KAAKyN,gBAKT/B,EAAAxM,UAAAuO,YAAR,WACI,IAAMC,EAAgB,CAClBnN,EAAGP,KAAKP,MAAMc,EAAMP,KAAKN,KAAKiB,MAAQ,EACtCH,EAAGR,KAAKP,MAAMe,EAAIR,KAAKN,KAAKkB,QAKhCZ,KAAK8L,WAAY4B,EAHE,CACf/M,MAAO,EAAGC,OAAQ,KAIlB8K,EAAAxM,UAAAqO,aAAR,WACI,IAAM7N,EAAa,CACfiB,MAAO,EAAGC,OAAQ,GAEtBZ,KAAK8L,WAAW,CACZvL,EAAGP,KAAKP,MAAMc,EACdC,EAAGR,KAAKP,MAAMe,EAAIR,KAAKN,KAAKkB,QAC7BlB,GACHM,KAAK8L,WAAW,CACZvL,EAAGP,KAAKP,MAAMc,EAAIP,KAAKN,KAAKiB,MAC5BH,EAAGR,KAAKP,MAAMe,EAAIR,KAAKN,KAAKkB,QAC7BlB,IAECgM,EAAAxM,UAAA6N,SAAR,WACI/M,KAAKuB,WAAYmK,EAAOM,SAAS2B,MAAMb,OAEnCpB,EAAAxM,UAAA8N,YAAR,WACIhN,KAAKuB,WAAYmK,EAAOM,SAAS2B,MAAMlN,UAEpCiL,EAAAxM,UAAA0O,OAAP,aACOlC,EAAAxM,UAAA2O,SAAP,aAhHcnC,EAAAM,SAAW,CACrB2B,MAAO,CACHlN,QAAS,CAAEE,MAAO,EAAGC,OAAQ,GAC7BkM,KAAM,CAAEnM,MAAO,GAAIC,OAAQ,IAE/Bd,WAAY,CACRgO,KAAQ,OACRC,OAAU,QACVC,eAAgB,OAEpB7B,WAAY,GAuGpBT,EA5IA,CAAoCF,EAAA/K,mBAAfiL,iaCJrB,IAGAuC,EAAA,SAAAtC,GAiBI,SAAAsC,EACIpO,EACAqO,GAFJ,IAAAnO,EAII4L,EAAAlO,KAAAuC,KACIkO,EAAUnC,SACVmC,EAAUxO,KACV,CAAEa,EAAG,EAAGC,EAAG,GACX,OACAX,EACAqO,EAAUpO,YAAcmO,EAAIjC,SAASlM,aACxCE,YAdGD,EAAAoO,SAAmB,EAevBpO,EAAKqO,MAAQF,EAAUE,OAASH,EAAIjC,SAASoC,QAuCrD,OApEiChC,EAAA6B,EAAAtC,GA+BtBsC,EAAA/O,UAAAmN,SAAP,WACIrM,KAAKP,MAAMc,GAAKP,KAAKoO,MACrBpO,KAAKmB,qBAEF8M,EAAA/O,UAAAuN,UAAP,WACIzM,KAAKP,MAAMc,GAAKP,KAAKoO,MACrBpO,KAAKmB,qBAEF8M,EAAA/O,UAAA0O,OAAP,WACI5N,KAAKP,MAAMe,GAAKR,KAAKoO,MACrBpO,KAAKmB,qBAEF8M,EAAA/O,UAAA2O,SAAP,WACI7N,KAAKP,MAAMe,GAAKR,KAAKoO,MACrBpO,KAAKmB,qBAGD8M,EAAA/O,UAAAmP,KAAR,WACSrO,KAAKN,KAAKiB,OAASsN,EAAIK,WAAatO,KAAKN,KAAKkB,QAAUqN,EAAIM,aACjEvO,KAAKN,KAAKiB,QACVX,KAAKN,KAAKkB,SACVZ,KAAKuB,eAIF0M,EAAA/O,UAAAsP,OAAP,SAAeC,GAKX,OAJAzO,KAAKmO,WACAnO,KAAKmO,SAAW,IACjBnO,KAAKqO,OAEFrO,KAAKmO,UAITF,EAAA/O,UAAA0N,YAAP,SAAoB8B,KACbT,EAAA/O,UAAAyP,SAAP,SAAiBzF,GAAwBlJ,KAAKkJ,MAAQA,GAC/C+E,EAAA/O,UAAAmO,UAAP,aAlEeY,EAAAjC,SAAW,CACtBoC,MAAO,EACPtO,WAAY,CACRgO,KAAQ,OACRC,OAAU,QACVC,eAAgB,QAITC,EAAAK,UAAoB,EACpBL,EAAAM,WAAqB,EAyDxCN,EApEA,CAHA/Q,EAAA,GAGiCuD,mBAAZwN,gCCJrB,SAASW,EAAOC,EAAgBC,EAAoBnO,GAChD,IAAIoO,EAAeD,EAAanO,EAASkO,EACzC,OAAOE,GAAO,GAAKA,GAAOpO,EAiB9B,SAASqO,EAAaC,EAAYC,GAC9B,IAAMC,EAAQF,EAAG1O,EAAI2O,EAAG3O,EAClB6O,EAAQH,EAAGzO,EAAI0O,EAAG1O,EACxB,OAAO8K,KAAK+D,KACR,EAAU,EACV,EAAU,oDAITjS,EAAAkS,YAtBT,SAAqBL,EAAYC,EAAYK,GACzC,OAAOX,EAAOK,EAAG1O,EAAG2O,EAAG3O,EAAGgP,EAAO5O,QAC1BiO,EAAOK,EAAGzO,EAAG0O,EAAG1O,EAAG+O,EAAO3O,SAqB5BxD,EAAAoS,OAlBT,SAAiBC,EAAqBC,EAAoBC,GAEtD,IACMC,EAAYtE,KAAKC,IAAKoE,EAAUhP,MAAOgP,EAAU/O,QAEvD,OADyBoO,EAAaS,EAAaC,IAChCE,EAHQ,GAiBtBxS,EAAA4R,6FCjCT9R,EAAA,IAEA,IAAA2S,EAAA,WAOI,SAAAA,EAAoBC,GAChB,IAAMC,EAAsB7P,SAAS6G,cAAc,OAC7CzE,EAA0BpC,SAAS6G,cAAe,OAClD3H,EAA0Bc,SAAS6G,cAAe,KAClDiJ,EAAiC9P,SAAS6G,cAAe,OAC/DgJ,EAAI1P,aAAc,QAAS,SAC3BiC,EAAQjC,aAAc,QAAS,iBAC/BjB,EAAE6Q,UAAY,cACdD,EAAe3P,aAAc,QAAS,mBACnB,IAAdyP,GACD9P,KAAKkQ,kBAAmB5N,GAE5BA,EAAQtB,YAAa5B,GACrBkD,EAAQtB,YAAagP,GACrBD,EAAI/O,YAAasB,GACjByN,EAAI/J,MAAMmK,QAAU,OAEpBjQ,SAASkQ,KAAKpP,YAAa+O,GAC3B/P,KAAK+P,IAAMA,EACX/P,KAAKZ,EAAIA,EACTY,KAAKsC,QAAUA,EACftC,KAAKgQ,eAAiBA,EA4B9B,OA1BYH,EAAA3Q,UAAAgR,kBAAR,SAA2B5N,GACvB,IAAM+N,EAA0BnQ,SAAS6G,cAAe,QACxDsJ,EAAOhQ,aAAc,QAAS,YAC9BgQ,EAAOC,iBAAkB,QAAStQ,KAAKuQ,YAAYzR,KAAMkB,OACzDqQ,EAAOJ,UAAY,UACnB3N,EAAQtB,YAAaqP,IAElBR,EAAA3Q,UAAAsR,KAAP,SAAaC,EAAiBC,GACrBA,IAAK1Q,KAAK0Q,GAAKA,GACpB1Q,KAAKZ,EAAE6Q,UAAYQ,EACnBzQ,KAAK+P,IAAI/J,MAAMmK,QAAU,SAGrBN,EAAA3Q,UAAAqR,YAAR,WACSvQ,KAAK0Q,IACN1Q,KAAK0Q,KACL1Q,KAAK0Q,GAAK,MAEV1Q,KAAK2Q,QAGNd,EAAA3Q,UAAAyR,KAAP,WACI3Q,KAAKZ,EAAE6Q,UAAY,GACnBjQ,KAAK+P,IAAI/J,MAAMmK,QAAU,OACzBnQ,KAAKsC,QAAQsO,UAAUpJ,OAAQ,UAAW,SAElDqI,EAxDA,8FCFA3S,EAAA,OACA2T,EAAA3T,EAAA,IAIA4T,EAAA5T,EAAA,IAEA6T,EAAA,WAKI,SAAAA,EAAqBlR,GAAAG,KAAAH,YACjBG,KAAKgR,cAAgB,IAAIF,EAAArQ,QAAeT,KAAKiR,SAASnS,KAAKkB,OAC3DA,KAAKgR,cAAcR,KAAK,GAoBhC,OAjBYO,EAAA7R,UAAA+R,SAAR,SAAkB3G,EAAe4G,EAAqBC,GAClDnR,KAAKoR,aACLpR,KAAKqR,UAAY,IAAIR,EAAApQ,QACjB6J,EAAM5K,KACNM,KAAKH,UACLG,KAAKgR,cACLE,EACAC,GAEJnR,KAAKqR,UAAUC,KAAKhH,IAGhByG,EAAA7R,UAAAkS,WAAR,WACQpR,KAAKqR,kBACErR,KAAKqR,WAGxBN,EA3BA,eA6BA,IAAMlR,EAAyBK,SAASqR,eAAe,aAEnC,IAAIR,EAAMlR,0TC7BjBzC,EAAA2M,EAAc,SACzBnK,EACA4R,QAAA,IAAAA,MAAA,QACA,IAAAC,EAAA,GAAAC,EAAA,EAAAA,EAAAvN,UAAAX,OAAAkO,IAAAD,EAAAC,EAAA,GAAAvN,UAAAuN,GACY,OACZ9R,KAAIA,EACJ4R,MAAKA,EACLC,SAAQA,IAGGrU,EAAA2J,cAA0B,SAAC4K,GACtC,GAAoB,iBAATA,EACT,OAAOzR,SAASyI,eAAegJ,GAEjC,IAAMC,EAAmB1R,SAAS6G,cAAezG,OAAOqR,EAAK/R,OAM7D,OALAiS,EAASD,EAAKD,EAAKH,OACnBM,EAAkBF,EAAKD,EAAKH,OAC5BG,EAAKF,SACFrP,IAAK,SAAC2P,GAAmB,OAAA3U,EAAA2J,cAAcgL,KACvChR,QAAQ6Q,EAAI5Q,YAAYlC,KAAK8S,IACzBA,GAwBIxU,EAAA0M,cAA0B,SACrCkI,EACAnI,EACAoI,EACA/I,GAEA,QAFA,IAAAA,MAAA,GAEK+I,EAIE,GAAKpI,GAIL,GAnCiB,SACxBqI,EACAC,GAGA,UADuCD,UAAiBC,EACpC,OAAO,EAE3B,GAAqB,iBAAVD,GAIT,GAHaA,IACAC,EAES,OAAO,MACxB,CACL,IACMC,EAAKD,EAEX,GAHWD,EAEwBtS,OAASwS,EAAGxS,KAC3B,OAAO,EAE7B,OAAO,EAiBIyS,CAAQxI,EAASoI,GAC1BD,EAAQM,aACNlV,EAAA2J,cAAc8C,GACdmI,EAAQzI,WAAWL,SAEhB,GAAuB,iBAAZW,GAA2C,iBAAZoI,EAAsB,CACrEpI,EAAQ2H,MAAQ3H,EAAQ2H,OAAS,GACjCS,EAAQT,MAAQS,EAAQT,OAAS,GACjCe,EACEP,EAAQzI,WAAWL,GACnBW,EAAQ2H,MACRS,EAAQT,OAIV,IAFA,IAAMgB,EAAY3I,EAAQ4H,SAASjO,OAC7BiP,EAAYR,EAAQR,SAASjO,OAC1BlG,EAAI,EAAGA,EAAIkV,GAAalV,EAAImV,EAAWnV,IAC9CF,EAAA0M,cACEkI,EAAQzI,WAAWL,GACnBW,EAAQ4H,SAASnU,GACjB2U,EAAQR,SAASnU,GACjBA,SAvBJ0U,EAAQ9Q,YACN8Q,EAAQzI,WAAWL,SALrB8I,EAAQhR,YACN5D,EAAA2J,cAAc8C,KAgCpB,IAAM6I,EAAU,SACdC,EACA9U,EACAU,GAEIqU,EAAa/U,KAEG,cAATA,EACT8U,EAAQtS,aAAa,QAAS9B,GACJ,kBAAVA,EAChBsU,EAAeF,EAAS9U,EAAMU,GAE9BoU,EAAQtS,aAAaxC,EAAMU,KAIzBsT,EAAW,SACfc,EACAnB,GAEA,IAAK,IAAM3S,KAAO2S,EAChBkB,EAAQC,EAAS9T,EAAK2S,EAAM3S,KAI1BgU,EAAiB,SACrBF,EACA9U,EACAU,GAEIA,GACFoU,EAAQtS,aAAaxC,EAAMU,GAC3BoU,EAAQ9U,IAAQ,GAEhB8U,EAAQ9U,IAAQ,GAId+U,EAAe,SAAC/U,GACpB,OAAOiV,EAAYjV,IA2BfkV,EAAa,SACjBJ,EACA9U,EACAmV,EACAC,GAEKD,EAEOC,GAAUD,IAAWC,GAC/BP,EAAQC,EAAS9U,EAAMmV,GAzBR,SACjBL,EACA9U,EACAU,GAEIqU,EAAa/U,KAEG,cAATA,EACT8U,EAAQO,gBAAgB,SACE,kBAAV3U,EAjBM,SACxBoU,EACA9U,GAEA8U,EAAQO,gBAAgBrV,GACxB8U,EAAQ9U,IAAQ,EAadsV,CAAkBR,EAAS9U,GAE3B8U,EAAQO,gBAAgBrV,IAWxBuV,CAAWT,EAAS9U,EAAMoV,IAMxBV,EAAwB,SAC5BI,EACAU,EACAC,QAAA,IAAAA,MAAA,IAEA,IAAM9B,EAAK+B,EAAA,GAAQF,EAAQ,CAAEC,SAAQA,IACrC,IAAK,IAAME,KAAQhC,EACjBuB,EAAWJ,EAASa,EAAMH,EAASG,GAAOF,EAASE,KAIjDV,EAAc,SAACjV,GAA0B,YAAM4V,KAAK5V,IAIpDiU,EAAoB,SACxBa,EACAnB,QAAA,IAAAA,MAAA,IAEAA,EAAQA,GAAS,GACjBxT,OAAO8C,KAAK0Q,GAAOzQ,QAAQ,SAAAlD,GACrBiV,EAAYjV,IACd8U,EAAQrC,iBATW,SAACzS,GAAyB,OAAAA,EAAK6V,MAAM,GAAGC,cAUzDC,CAAiB/V,GACjB2T,EAAM3T,8TCpMd,IAAAgW,EAAA3W,EAAA,GAEAwM,EAAA,WAIE,SAAAA,EACUsG,EACEwB,GADFxR,KAAAgQ,iBACEhQ,KAAAwR,QAyCd,OApCY9H,EAAAxK,UAAA4U,eAAV,WACI9T,KAAK+T,WAAa/T,KAAK4J,SACvBiK,EAAApT,QAAMmJ,OACF5J,KAAK+T,WACL/T,KAAKgQ,iBAILtG,EAAAxK,UAAA8U,gBAAR,WACI,IAAMC,EAAYjU,KAAK4J,SACvBiK,EAAApT,QAAMqJ,cACF9J,KAAKgQ,eACLiE,EACAjU,KAAK+T,YAET/T,KAAK+T,WAAaE,GAGZvK,EAAAxK,UAAAgV,SAAV,SAAmBC,GACfnU,KAAKoU,MAAKb,EAAA,GACKvT,KAAKoU,MACbD,GAEPnU,KAAKgU,mBAGFtK,EAAAxK,UAAAqT,YAAP,SAAmBf,GACfxR,KAAKwR,MAAK+B,EAAA,GACKvT,KAAKwR,MACbA,GAEPxR,KAAKgU,mBAKXtK,EA/CA,8FCFA,IAAApK,EAAApC,EAAA,GAEAmX,EAAAnX,EAAA,IACAoX,EAAApX,EAAA,IAKAkN,EAAAlN,EAAA,GAEAqX,EAAArX,EAAA,IACAsX,EAAAtX,EAAA,GACAuX,EAAAvX,EAAA,GACAwX,EAAAxX,EAAA,IACAyX,EAAAzX,EAAA,GACA0X,EAAA1X,EAAA,IAEA2X,EAAA3X,EAAA,GACA4X,EAAA5X,EAAA,IACAuO,EAAAvO,EAAA,IAGA6X,EAAA,WAkBI,SAAAA,EACYrV,EACAG,EACAmR,EACAE,EACAC,GAJAnR,KAAAN,OACAM,KAAAH,YACAG,KAAAgR,gBACAhR,KAAAkR,cACAlR,KAAAmR,SAERnR,KAAKgV,WAAa,IAAIC,IACtBjV,KAAKkV,MAAQ,IAAIN,EAAAnU,QACjBT,KAAKmV,MAAQ,GACbnV,KAAKoV,QAAU,GACfpV,KAAKqV,QAAU,GACfrV,KAAKsV,YAAa,EACbtV,KAAKmR,SAAW/G,EAAA3J,QAAY2K,SAC7BpL,KAAKyK,MAAQ,EACLzK,KAAKmR,SAAW/G,EAAA3J,QAAY4K,UACpCrL,KAAKyK,MAAQ,KAGjBzK,KAAKC,WAAaC,SAASC,gBACvBb,EAAAc,aACA,OAEJJ,KAAKC,WAAWI,aAAc,QAASf,EAAAc,cACvCJ,KAAKC,WAAWI,aAAc,QAAS,OACvCL,KAAKC,WAAWI,aAAc,SAAU,QAGxCL,KAAKC,WAAWI,aAAc,OAAQ,SACtCL,KAAKC,WAAWI,aAAc,UAAW,OAASL,KAAKN,KAAKiB,MAAQ,IAAMX,KAAKN,KAAKkB,QAEpFZ,KAAKC,WAAWI,aAAc,QAAS,2BACvCL,KAAKuV,UAAY,IAAIT,EAAArU,QAAWT,KAAKwV,aAAa1W,KAAMkB,MAAQkR,EAAalR,KAAKH,WAClFA,EAAUmB,YAAahB,KAAKC,YAmapC,OAjaY8U,EAAA7V,UAAAsW,aAAR,SAAsB9G,GAClB1O,KAAKyV,OAAO7I,YAAa8B,IAEtBqG,EAAA7V,UAAAoS,KAAP,SAAahH,GAETtK,KAAK0V,eAAiB1V,KAAK2V,aAAcrL,EAAMsL,QAC/C5V,KAAKmV,MAAQnV,KAAK6V,YAAavL,EAAM6K,OACrCnV,KAAK8V,iBAAkBxL,EAAMyL,OAAQzL,EAAM0L,KAE3C9V,SAASkQ,KAAKE,iBAAiB,UAAWtQ,KAAKiW,kBAAkBnX,KAAMkB,OACvEA,KAAK0N,SAEDqH,EAAA7V,UAAA4W,iBAAR,SAA0BjK,EAA4BqC,GAClDlO,KAAK+V,OAAS/V,KAAKkW,YAAarK,GAChC7L,KAAKgW,IAAMhW,KAAKmW,SAAUjI,GAErBlO,KAAKmR,SAAW/G,EAAA3J,QAAY2K,UAC7BpL,KAAKyV,OAASzV,KAAK+V,OACnB/V,KAAKoW,GAAKpW,KAAKgW,KACPhW,KAAKmR,SAAW/G,EAAA3J,QAAY4K,UACpCrL,KAAKyV,OAASzV,KAAKgW,IACnBhW,KAAKoW,GAAKpW,KAAK+V,SAGfhB,EAAA7V,UAAA+B,QAAR,WAEI,IADAf,SAASkQ,KAAKiG,oBAAoB,UAAWrW,KAAKiW,kBAAkBnX,KAAMkB,OACnEA,KAAKH,UAAUyW,iBAClBtW,KAAKH,UAAUqB,YAAYlB,KAAKH,UAAU0W,YAG1CxB,EAAA7V,UAAAwO,MAAR,WAEI1N,KAAKkV,MAAMvE,OACX3Q,KAAKwW,qBACLxW,KAAKyW,eAAiBC,YAAa1W,KAAKuH,OAAOzI,KAAMkB,MAAQ,IAC7DA,KAAK2W,UAAW,GAEZ5B,EAAA7V,UAAA0X,mBAAR,WACI1W,SAASkQ,KAAKiG,oBAAqB,UAAWrW,KAAK6W,kBACnD3W,SAASkQ,KAAKiG,oBAAqB,QAASrW,KAAK6W,mBAE7C9B,EAAA7V,UAAAsX,mBAAR,WACItW,SAASkQ,KAAKE,iBAAiB,UAAWtQ,KAAK6W,iBAAiB/X,KAAMkB,OACtEE,SAASkQ,KAAKE,iBAAiB,QAAStQ,KAAK6W,iBAAiB/X,KAAMkB,QAEhE+U,EAAA7V,UAAAgX,YAAR,SAAqBrK,GACjB,OAAO,IAAI2I,EAAA/T,QACPT,KAAKN,KACLM,KAAKC,WACL4L,EACA7L,KAAK8W,aAAahY,KAAMkB,QAGxB+U,EAAA7V,UAAAiX,SAAR,SAAkBjI,GACd,OAAO,IAAIuG,EAAAhU,QAAKT,KAAKC,WAAYiO,IAE7B6G,EAAA7V,UAAA4X,aAAR,SAAsBpJ,EAAehO,GACjCM,KAAKoV,QAAQ1R,KAAM,IAAIgR,EAAAjU,QAAQiN,EAAOhO,EAAMM,KAAKC,cAE7C8U,EAAA7V,UAAA6X,UAAR,SAAmBC,GACf,OAAO,IAAI3C,EAAA5T,QAAMuW,EAAYhX,KAAKC,aAE9B8U,EAAA7V,UAAA2W,YAAR,SAAqBV,GACjB,OAAOA,EAAM/S,IAAKpC,KAAK+W,UAAW/W,OAE9B+U,EAAA7V,UAAAyW,aAAR,SAAsBC,GAClB,OAAOA,EAAOxT,IAAKpC,KAAKiX,YAAajX,OAEjC+U,EAAA7V,UAAA+X,YAAR,SAAqBC,GACjB,OAAO,IAAI5C,EAAA7T,QAAOyW,EAAOlX,KAAKC,WAAYD,KAAKmX,WAAWrY,KAAMkB,QAE5D+U,EAAA7V,UAAAkY,aAAR,SAAsBlO,GAClBlJ,KAAK0V,eAAe7O,OAAQqC,EAAO,IAE/B6L,EAAA7V,UAAAiY,WAAR,SAAoBzJ,EAAe9N,GAC/BI,KAAKqV,QAAQ3R,KAAM,IAAI+H,EAAAhL,QAAQiN,EAAO9N,EAAMI,KAAKC,cAE7C8U,EAAA7V,UAAAmY,SAAR,SAAkB5X,GACd,IAAIyX,EAYJ,OAXAlX,KAAK0V,eAAe4B,KAAM,SAAEC,EAAUja,GAClC,IAAIoS,EAAqB6H,EAAE1V,WACvB8N,EAAkB4H,EAAEzV,UAOxB,OALK6S,EAAAnF,OAAQ/P,EAAOiQ,EAAYC,IAC3BgF,EAAArF,YAAa7P,EAAOiQ,EAAYC,KACjCuH,EAAQK,GACF5I,SAAUrR,GAEb+L,QAAS6N,KAEbA,GAEHnC,EAAA7V,UAAAsY,OAAR,SAAgB/X,GACZ,IAAMgY,EAAWzX,KAAKgW,IAAInU,WACpB6V,EAAU1X,KAAKgW,IAAIlU,UAEzB,GAAK6S,EAAAnF,OAAQ/P,EAAOgY,EAAUC,IACzB/C,EAAArF,YAAa7P,EAAOgY,EAAUC,GAC1B,OAAO1X,KAAKgW,KAGjBjB,EAAA7V,UAAAyY,QAAR,WAGI,IAAIC,EACAC,EAHJhD,EAAApU,QAAU8J,SAAUvK,KAAKkR,YAAalR,KAAKmR,OAAQnR,KAAKyK,OAKnDzK,KAAKmR,SAAW/G,EAAA3J,QAAY2K,SACO,IAA/BpL,KAAK0V,eAAelS,QACrBoU,EAAM,kBACNC,GAAU,GACoB,IAAtB7X,KAAKmV,MAAM3R,SACnBoU,EAAM,gBACNC,GAAU,GAEN7X,KAAKmR,SAAW/G,EAAA3J,QAAY4K,UACA,IAA/BrL,KAAK0V,eAAelS,QACrBoU,EAAM,gBACNC,GAAU,GACoB,IAAtB7X,KAAKmV,MAAM3R,SACnBoU,EAAM,kBACNC,GAAU,IAGlBC,cAAe9X,KAAKyW,gBACpBzW,KAAKsV,YAAa,EAClBtV,KAAKgR,cAAcR,KAAMxQ,KAAKkR,YAAa0G,EAAKC,GAChD7X,KAAKiB,WAED8T,EAAA7V,UAAA6Y,KAAR,WACI/X,KAAKkV,MAAM1E,KAAM,cAAexQ,KAAK0N,MAAM5O,KAAMkB,OACjDA,KAAK2W,UAAW,EAChBmB,cAAe9X,KAAKyW,iBAEhB1B,EAAA7V,UAAA8Y,YAAR,WACI,OAAsC,IAA/BhY,KAAK0V,eAAelS,QAAsC,IAAtBxD,KAAKmV,MAAM3R,QAElDuR,EAAA7V,UAAAqI,OAAR,WACSvH,KAAKgY,cACNhY,KAAK2X,WAGL3X,KAAKiY,cACLjY,KAAKkY,gBACLlY,KAAKmY,gBACLnY,KAAKoY,kBACLpY,KAAKqY,aAGLtD,EAAA7V,UAAAoZ,YAAR,WACStY,KAAKmR,SAAW/G,EAAA3J,QAAY2K,SAC7BpL,KAAKyK,OAAS,EACNzK,KAAKmR,SAAW/G,EAAA3J,QAAY4K,UACpCrL,KAAKyK,OAAS,GAElBzK,KAAKuV,UAAU+C,YAAatY,KAAKyK,QAE7BsK,EAAA7V,UAAA0N,YAAR,SAAqB8B,EAAoB6J,GAChCA,IAASvY,KAAKmR,QAASnR,KAAKuV,UAAUiD,UAAW9J,GACjD6J,IAASnO,EAAA3J,QAAY2K,SACtBpL,KAAK+V,OAAOnJ,YAAa8B,GACjB6J,IAASnO,EAAA3J,QAAY4K,SAC7BrL,KAAKgW,IAAIpJ,YAAa8B,IAGtBqG,EAAA7V,UAAAiZ,cAAR,eAAApY,EAAAC,KACQyY,EAA0B,GAC1BC,EAAiB,EACrB1Y,KAAKqV,QAAQtU,QAAS,SAAE2N,EAAgBxF,GACpC,IAAMyP,EAASjK,EAAO9M,kBAChBgX,EAAoB7Y,EAAKgW,OAAOlU,WAChCgX,EAAmB9Y,EAAKgW,OAAOjU,UAEhC6W,EAAOnY,GAAKT,EAAKL,KAAKkB,QACvB6X,EAAS/U,KAAMwF,GACfwF,EAAOzN,WACC0T,EAAArF,YAAaqJ,EAAQC,EAAWC,IACxC9Y,EAAK6M,YAAa8B,EAAO7B,WAAYzC,EAAA3J,QAAY2K,UACjDqN,EAAS/U,KAAMwF,GACfwF,EAAOzN,WAEPyN,EAAOvN,kBAAmBwX,KAGlCF,EAAS1X,QAAS,SAAE4F,GAChB5G,EAAKsV,QAAQxO,OAAQF,EAAM+R,EAAQ,GACnCA,GAAU,KAGV3D,EAAA7V,UAAAgZ,cAAR,eAAAnY,EAAAC,KACQ8Y,EAAiC,GACjCJ,EAAiB,EACrB1Y,KAAKoV,QAAQrU,QAAQ,SAAUgY,EAAgB7P,GAU3C,IATA,IACI8P,EACAC,EACAN,EACAO,EACAC,EACAC,EACAlC,EAPE9I,EAAgB2K,EAAOM,UAAU,GAS7BC,EAAa,EAAGA,EAAalL,EAAOkL,IAAe,CAKzD,GAJApC,EAAQ,KACRyB,EAASI,EAAOnX,kBAChBsX,EAASH,EAAOlX,WAChBsX,EAAYC,GAAY,EACnBL,EAAOQ,YAER,YADAT,EAAgBpV,KAAMwF,GAI1B,GAAKyP,EAAOpY,EAAI,GAAKoY,EAAOpY,EAAIP,KAAKN,KAAKiB,OACrCgY,EAAOnY,EAAI,GAAKmY,EAAOnY,GAAKR,KAAKN,KAAKkB,OAKvC,OAHAkY,EAAgBpV,KAAMwF,QAEtB6P,EAAO9X,WAKXiW,EAAQlX,KAAKqX,SAAU,CAAE9W,EAAGoY,EAAOpY,EAAGC,EAAG0Y,EAAO1Y,OAE5C2Y,GAAY,EACZH,EAAgB9B,EAAMsC,cACtBP,EAAiBF,EAAOS,cACpBtC,EAAM1I,OAAQyK,IAAoB,EAClCjZ,KAAKoX,aAAcF,EAAMhO,OAEzBgO,EAAMvI,UAAW,KAKzBuI,EAAQlX,KAAKqX,SAAU,CAAE9W,EAAG2Y,EAAO3Y,EAAGC,EAAGmY,EAAOnY,OAE5C4Y,GAAY,EACZJ,EAAgB9B,EAAMsC,cACtBP,EAAiBF,EAAOS,cACxBT,EAAOvK,OAAQwK,GACwB,IAAnC9B,EAAM1I,OAAQyK,GACdjZ,KAAKoX,aAAcF,EAAMhO,OAEzBgO,EAAMvI,UAAW,IAInBwK,GAAcC,IAChBlC,EAAQlX,KAAKqX,SAAUsB,MAEnBK,EAAgB9B,EAAMsC,cACtBP,EAAiBF,EAAOS,cACxBT,EAAOvK,OAAQwK,GACwB,IAAnC9B,EAAM1I,OAAQyK,GACdjZ,KAAKoX,aAAcF,EAAMhO,OAEzBgO,EAAMvI,UAAW,IAI7BoK,EAAOxR,WAEZvH,MACH8Y,EAAgB/X,QAAS,SAAE4F,GACvB5G,EAAKqV,QAAQvO,OAAQF,EAAM+R,EAAQ,GACnCA,GAAU,KAGV3D,EAAA7V,UAAA+Y,YAAR,eAAAlY,EAAAC,KACQyZ,EAA+B,GAC/Bf,EAAiB,EACfE,EAAoB5Y,KAAK+V,OAAOlU,WAChCgX,EAAmB7Y,KAAK+V,OAAOjU,UACrC9B,KAAKmV,MAAMpU,QAAS,SAAU2Y,EAAYxQ,GACtC,IAEIiQ,EACAC,EACAlC,EACAyC,EALEjZ,EAASgZ,EAAK3X,YAChB4W,EAAiBe,EAAK9X,kBAe1B,IARK+W,EAAOpY,EAAIG,EAAS,GAAKiY,EAAOpY,EAAIG,EAASV,KAAKN,KAAKiB,QACxD+Y,EAAKjY,WAAY,MAGhBkX,EAAOnY,EAAIE,EAAS,GAAKiU,EAAArF,YAAaqJ,EAAQC,EAAWC,KAC1Da,EAAKjY,WAAY,KAGhBkX,EAAOnY,EAAIE,GAAUV,KAAKN,KAAKkB,OAIhC,OAHA6Y,EAAc/V,KAAMwF,QAEpBwQ,EAAKzY,UAMT0Y,EAAgB,CAAEpZ,GADlBoY,EAASe,EAAK9X,mBACcrB,EAAGC,EAAGkZ,EAAKja,MAAMe,IAC7C0W,EAAQlX,KAAKqX,SAAUsC,IAAmB3Z,KAAKwX,OAAQmC,MAEnD3Z,KAAKsY,cACLa,GAAY,EACZO,EAAKjY,WAAY,KAES,IAAtByV,EAAM1I,OAAQ,GACdxO,KAAKoX,aAAcF,EAAMhO,OAEzBgO,EAAMvI,UAAW,IAKzBgK,EAASe,EAAK9X,kBACd+X,EAAgB,CAAEpZ,EAAGmZ,EAAKja,MAAMc,EAAGC,EAAGmY,EAAOnY,IAC7C0W,EAAQlX,KAAKqX,SAAUsC,IAAmB3Z,KAAKwX,OAAQmC,MAEnD3Z,KAAKsY,cACLc,GAAY,EACZM,EAAKjY,WAAY,KACS,IAAtByV,EAAM1I,OAAQ,GACdxO,KAAKoX,aAAcF,EAAMhO,OAEzBgO,EAAMvI,UAAW,IAInBwK,GAAcC,IAChBlC,EAAQlX,KAAKqX,SAAUsB,IAAY3Y,KAAKwX,OAAQmB,MAE5Ce,EAAKjY,WAAY,KACjBiY,EAAKjY,WAAY,KACS,IAAtByV,EAAM1I,OAAQ,GACdxO,KAAKoX,aAAcF,EAAMhO,OAEzBgO,EAAMvI,UAAW,IAI7BgK,EAASe,EAAK9X,kBACd8X,EAAKvY,kBAAmBwX,IACzB3Y,MACHyZ,EAAc1Y,QAAS,SAAE4F,GACrB5G,EAAKoV,MAAMtO,OAAQF,EAAM+R,EAAQ,GACjCA,GAAU,KAGV3D,EAAA7V,UAAA2X,iBAAR,SAA0BjS,GACtB,IAAIgV,EAAgC,YAAXhV,EAAEhF,KAC3BI,KAAKgV,WAAW6E,IAAKjV,EAAEkV,QAASF,IAE5B7E,EAAA7V,UAAA+W,kBAAR,SAA2BrR,GACJ,KAAdA,EAAEkV,UAAsC,IAApB9Z,KAAKsV,YAC1BtV,KAAK+Z,aAGLhF,EAAA7V,UAAAkZ,gBAAR,eAAArY,EAAAC,KACIA,KAAKgV,WAAWjU,QAAS,SAAExC,EAAgBM,GACvC,GAAKN,EACD,OAASM,GACL,KAAK,GACL,KAAK,GACDkB,EAAKia,YACL,MACJ,KAAK,GACL,KAAK,GACDja,EAAKka,aACL,MACJ,KAAK,GACL,KAAK,GACDla,EAAKma,UACL,MACJ,KAAK,GACL,KAAK,GACDna,EAAKoa,YACL,MACJ,KAAK,GACDpa,EAAKqa,iBAOjBrF,EAAA7V,UAAAgb,QAAR,WACIla,KAAKyV,OAAO7H,UAERmH,EAAA7V,UAAAib,UAAR,WACIna,KAAKyV,OAAO5H,YAERkH,EAAA7V,UAAA8a,UAAR,WACIha,KAAKyV,OAAOpJ,YAER0I,EAAA7V,UAAA+a,WAAR,WACIja,KAAKyV,OAAOhJ,aAERsI,EAAA7V,UAAAkb,WAAR,WACIpa,KAAKyV,OAAOpI,aAER0H,EAAA7V,UAAAmZ,SAAR,WACI9D,EAAA9T,QAAG4Z,SACCra,KAAKoW,GACLpW,KAAKmV,MACLnV,KAAKqV,QACLrV,KAAKN,OAGLqV,EAAA7V,UAAA6a,UAAR,WACS/Z,KAAK2W,SACN3W,KAAK0N,QAEL1N,KAAK+X,QAIjBhD,EAtdA,8aClBA,IAEAuF,EAAA,SAAA3O,GAEI,SAAA2O,EAAatD,EAAwBnX,UACjC8L,EAAAlO,KAAAuC,KAAOgX,EAAWvX,MAAOuX,EAAWtW,OAAQsW,EAAWuD,WAAY,SAAU1a,IAAWG,KAEhG,OALkCoM,EAAAkO,EAAA3O,GAKlC2O,EALA,CAFApd,EAAA,GAEkCuD,oGCLlC,IAAA+Z,EAAA,WAGI,SAAAA,EAAa/a,GACTO,KAAKO,EAAId,EAAMc,EACfP,KAAKQ,EAAIf,EAAMe,EAavB,OAXWga,EAAAtb,UAAAyC,OAAP,SAAeD,GACX1B,KAAK0B,IAAsB,EAAd1B,KAAK0B,IAEf8Y,EAAAtb,UAAAkP,MAAP,SAAcW,GACV/O,KAAKO,EAAIP,KAAKO,EAAI,EAAIP,KAAKO,EAAIwO,EAAM/O,KAAKO,EAAIwO,EAC9C/O,KAAKQ,EAAIR,KAAKQ,EAAI,EAAIR,KAAKQ,EAAIuO,EAAM/O,KAAKQ,EAAIuO,GAE3CyL,EAAAtb,UAAAma,SAAP,SAAiBoB,GACb,IAAIC,EAAcpP,KAAKqP,MAAO3a,KAAKO,EAAGP,KAAKQ,GAC3C,OAAOia,EAAMnP,KAAKmP,IAAKC,GAAQA,GAEvCF,EAlBA,8aCCA,IAMAI,EAAA,SAAAjP,GAOI,SAAAiP,EAAoBC,EAAqBhb,EAAuBsX,GAAhE,IAAApX,EAAAC,KACUF,EAAa,CACfgO,KAAQ8M,EAAME,cAAeD,EAAO1N,UACpCY,OAAU,QACVC,eAAgB,cAEpBjO,EAAA4L,EAAAlO,KAAAuC,KAAO6a,EAAOpb,MAAOob,EAAOnb,KAAM,CAAEa,EAAG,EAAGC,EAAG,GAAK,OAAQX,EAAWC,IAAYE,KAC5E6a,EAAO1N,SACRpN,EAAKoN,SAAW0N,EAAO1N,SAEvBpN,EAAKoN,SAAW,EAEpBpN,EAAKoX,WAAaA,EAClBpX,EAAK2O,OAASmM,EAAOnM,OACrB3O,EAAKmJ,OAAS,IAkCtB,OAvDmCkD,EAAAwO,EAAAjP,GAuBxBiP,EAAA1b,UAAAyP,SAAP,SAAiBzF,GACblJ,KAAKkJ,MAAQA,GAEV0R,EAAA1b,UAAAsa,YAAP,WACI,OAAOxZ,KAAKmN,UAETyN,EAAA1b,UAAAsP,OAAP,SAAerB,GASX,OARAnN,KAAKmN,UAAYA,EACjBnN,KAAKiN,cACAjN,KAAKmN,UAAY,IACbnN,KAAK0O,QAAU,GAChB1O,KAAKmX,WAAYnX,KAAKP,MAAOO,KAAK0O,QAEtC1O,KAAKiB,WAEFjB,KAAKmN,UAERyN,EAAA1b,UAAA+N,YAAR,WACIjN,KAAKC,WAAWI,aAAc,OAAQua,EAAME,cAAe9a,KAAKmN,YAErDyN,EAAAE,cAAf,SAA8B3N,GAC1B,OAASA,GACL,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,KAAK,EAAG,MAAO,UACf,QACA,KAAK,EAAG,MAAO,YAG3ByN,EAvDA,CANA1d,EAAA,GAMmCuD,oGCRnC,IAAA+T,EAAAtX,EAAA,GACAuX,EAAAvX,EAAA,GAIAyX,EAAAzX,EAAA,GAoBA,SAAS6d,EAAmBC,EAAWzD,GACnC,IAAM0D,EAAQD,EAAExZ,UACV0Z,EAAQ3D,EAAE/V,UACV2Z,EAAKH,EAAEnZ,WAAWrB,EAClB4a,EAAK7D,EAAE1V,WAAWrB,EAGxB,OAAKya,EAAMza,EAAI,GAAK0a,EAAM1a,EAAI,GAAW,EACpC0a,EAAM1a,EAAI,GAAKya,EAAMza,EAAI,EAAU,EAGnC0a,EAAM1a,EAAI,GAAKya,EAAMza,EAAI,EAAU2a,EAAKC,GAAM,EAAI,EAGlDF,EAAM1a,EAAI,GAAKya,EAAMza,EAAI,GAAU2a,EAAKC,EAAK,GAG1C,EA+EZ,SAASC,EAAkBC,EAAgBC,EAAqBC,GAC5D,IAAM7b,EAAe2b,EAAO9Z,UAG5B,QAF+B7B,EAAKa,EAAI,EAAI,EAAI,EAAI8a,EAAO7b,MAAMe,IACjC+a,EAAcC,EAAeF,EAAO7b,MAAMe,IAC7B8K,KAAKmP,IAAK9a,EAAKa,GAEhE,SAASib,EAAoBH,EAAgB1P,EAAiB4P,GAE1D,IAAM7b,EAAe2b,EAAO9Z,UACtB/B,EAAgB6b,EAAOzZ,WACvB6Z,EAAuBL,EAAkBC,EAAQ1P,EAAUhL,OAAQ4a,GACrEG,EAAiBlc,EAAMc,EAAMZ,EAAKY,EAAImb,EACpCE,EAAoBD,EAAS/P,EAAUjL,MAM7C,OAJKib,EAAY,IACbD,GAAsB,EAAZC,GAGP,CACHrb,EAAG+K,KAAKmP,IAAKkB,GACbnb,EAAGoL,EAAUhL,OAAS4a,EAAe,IAG7C,SAASK,EAAQpc,EAAesW,GAC5B,OAAOtW,EAAMc,GAAKwV,EAAOtW,MAAMc,EAEnC,SAASub,EAASrc,EAAesW,GAC7B,OAAOtW,EAAMc,GAAKwV,EAAOtW,MAAMc,EAAIwV,EAAOjU,UAAUnB,MAAQ,EAKhEvD,EAAAqD,QAAe,CACX4Z,SAxIJ,SAAmBjE,EAAgBjB,EAAoBE,EAAwB3V,GACtE0W,aAAc5B,EAAA/T,QAkCvB,SAAyBsV,EAAgBZ,EAAoBE,EAAwB3V,GAEjFqW,EAAO1I,YACP,IAAM0O,EAAiC5G,EAClC/L,OAAQ,SAAAxE,GAAK,OAbtB,SAAoB0W,EAAgBvF,EAAgBrW,GAChD,IAAMmZ,EAAmB9C,EAAOjU,UAC1Bka,EAAoBP,EAAoBH,EAAQ5b,EAAMmZ,EAAWjY,QACvE,IAAMib,EAAQG,EAAWjG,KAAY+F,EAASE,EAAWjG,GAAW,OAAO,EAC3E,IAAMkG,EAAwBZ,EAAkBC,EAAQ5b,EAAKkB,OAAQiY,EAAWjY,QAC1Esb,EAA6BF,EAAUzb,EAAIwV,EAAOtW,MAAMc,EAAIwV,EAAOtW,MAAMc,EAAIsY,EAAWlY,MAAQoV,EAAOtW,MAAMc,EAC7G4b,EAAmB7Q,KAAKmP,IAAKyB,EAAqBF,EAAUzb,GAClE,OAASwV,EAAO5J,WAAa8P,EAAkBE,EAM7BC,CAAWxX,EAAGmR,EAAQrW,KACnC2c,KAAMtB,IAuBf,SAA6BhF,EAAgBuG,EAAyB5c,GAClE,GAAyB,IAApB4c,EAAS9Y,OAAd,CACA,IAAMgY,EAAuBzF,EAAOjU,UAAUlB,OACxC2b,EAA2C,IAApBD,EAAS9Y,OAChCgZ,EAAmBf,EAAoBa,EAAS,GAAI5c,EAAM8b,GAC1DiB,EAAsBF,EAAcC,EAAWf,EAAoBa,EAAS,GAAI5c,EAAM8b,GACvFK,EAAQW,EAAUzG,IAkB3B,SAA+B2G,EAAmBC,EAAiB5G,GAC/D,OAAO8F,EAAQa,EAAW3G,IACnBpB,EAAArF,YAAaqN,EACA,CAAEpc,EAAGwV,EAAOxJ,WAAY/L,EAAGuV,EAAOtW,MAAMe,GACxCuV,EAAOjU,WAtBQ8a,CAAsBH,EAAaD,EAAUzG,GAC5EA,EAAO1J,YACCyP,EAASU,EAAUzG,IAwBnC,SAAgC2G,EAAmBC,EAAiB5G,GAChE,OAAO+F,EAASY,EAAW3G,IACpBpB,EAAArF,YAAaqN,EACA,CAAEpc,EAAGwV,EAAOpJ,YAAanM,EAAGuV,EAAOtW,MAAMe,GACzCuV,EAAOjU,WA5BgB+a,CAAuBJ,EAAaD,EAAUzG,KACrFA,EAAOtJ,aA/BXqQ,CACI/G,EACAgG,EACArc,GA1CAqd,CAAgB3G,EAAIjB,EAAOE,EAAS3V,GACd+U,EAAAhU,wCCrB9B,IAAKuc,mDAAL,SAAKA,GACDA,IAAA,eACAA,IAAA,mBACAA,IAAA,qBACAA,IAAA,eAJJ,CAAKA,MAAM,KAOX5f,EAAAqD,QAAeuc,iaCNf,IAKAC,EAAA,SAAAtR,GAKI,SAAAsR,EAAaxd,EAAeC,EAAYG,GAAxC,IAAAE,EAAAC,YAMID,EAAA4L,EAAAlO,KAAAuC,KAAOP,EAAOC,EAAM,CAAEa,EAAG,EAAGC,GAAI,GAAK,OAAQX,EAL1B,CACfiO,KAAQ,MACRC,OAAU,QACVC,eAAgB,SAEgDhO,MAC/DmN,SAAW,EAEhBpN,EAAKwZ,aAAc,IA8B3B,OA5CoCnN,EAAA6Q,EAAAtR,GAgBzBsR,EAAA/d,UAAA0C,gBAAP,WACI,MAAO,CACHrB,EAAGP,KAAKP,MAAMc,EAAI+K,KAAK4R,KAAKld,KAAKL,KAAKY,GACtCC,EAAGR,KAAKP,MAAMe,EAAI8K,KAAK4R,KAAKld,KAAKL,KAAKa,KAGvCyc,EAAA/d,UAAAsa,YAAP,WACI,OAAOxZ,KAAKmN,UAET8P,EAAA/d,UAAAsP,OAAP,SAAerB,GAKX,OAJAnN,KAAKmN,UAAYA,EACbnN,KAAKmN,UAAY,GACjBnN,KAAKiB,UAEFjB,KAAKmN,UAET8P,EAAA/d,UAAAma,SAAP,SAAiBoB,GACb,OAAOza,KAAKL,KAAK0Z,SAAUoB,IAExBwC,EAAA/d,UAAAqI,OAAP,WACIvH,KAAKP,MAAQO,KAAK4B,kBAClB5B,KAAKmB,qBAEF8b,EAAA/d,UAAA+B,QAAP,WAEIjB,KAAKuZ,aAAc,EACnBvZ,KAAKH,UAAUqB,YAAYlB,KAAKC,aAExCgd,EA5CA,CALA/f,EAAA,GAKoCuD,sCCLpC,IAAA6B,EAAcpF,EAAQ,IAEtB,iBAAAoF,MAAA,EAA4CjF,EAAAC,EAASgF,EAAA,MAOrD,IAAA6C,EAAA,CAAegY,KAAA,EAEfzV,eAPAA,EAQAzB,gBAAApF,GAEa3D,EAAQ,EAARA,CAA2DoF,EAAA6C,GAExE7C,EAAA8a,SAAA/f,EAAAD,QAAAkF,EAAA8a,0BCjBA/f,EAAAD,QAA2BF,EAAQ,EAARA,EAA2D,IAEtFwG,KAAA,CAAcrG,EAAAC,EAAS,qyBAAmyB,oBCY1zBD,EAAAD,QAAA,SAAAyI,GAEA,IAAAwX,EAAA,oBAAAtZ,eAAAsZ,SAEA,IAAAA,EACA,UAAAnX,MAAA,oCAIA,IAAAL,GAAA,iBAAAA,EACA,OAAAA,EAGA,IAAAyX,EAAAD,EAAAE,SAAA,KAAAF,EAAAG,KACAC,EAAAH,EAAAD,EAAAK,SAAAC,QAAA,iBA2DA,OA/BA9X,EAAA8X,QAAA,+DAAAC,EAAAC,GAEA,IAWAC,EAXAC,EAAAF,EACAG,OACAL,QAAA,oBAAA5f,EAAAkgB,GAAwC,OAAAA,IACxCN,QAAA,oBAAA5f,EAAAkgB,GAAwC,OAAAA,IAGxC,0DAAAxK,KAAAsK,GACAH,GAQAE,EAFA,IAAAC,EAAAnX,QAAA,MAEAmX,EACG,IAAAA,EAAAnX,QAAA,KAEH0W,EAAAS,EAGAN,EAAAM,EAAAJ,QAAA,YAIA,OAAA9a,KAAAC,UAAAgb,GAAA,uFClFA5gB,EAAA,IAEA,IAAAghB,EAAA,WAOI,SAAAA,EAAa1I,EAAwB2I,EAAmBte,GACpDG,KAAKwV,aAAeA,EACpBxV,KAAKH,UAAYA,EACjBG,KAAKC,WAAaC,SAAS6G,cAAe,OAC1C/G,KAAKC,WAAW2Q,UAAUwN,IAAK,cAC/Bpe,KAAKC,WAAWgQ,UAAYiO,EAAUG,aAAc/d,OAAS6d,IAC7Dne,KAAKyK,MAAQzK,KAAKC,WAAWuE,cAAe,IAAI0Z,EAAUI,GAAGC,OAC7Dve,KAAKqV,QAAUrV,KAAKC,WAAWuE,cAAe,IAAI0Z,EAAUI,GAAGE,SAE/D3e,EAAUmB,YAAahB,KAAKC,YAwCpC,OArCWie,EAAAhf,UAAAoZ,YAAP,SAAoB7N,GAChBzK,KAAKyK,MAAMwF,UAAY3P,OAAQmK,IASpByT,EAAAG,aAAf,SAA6BF,GACzB,MAAO,2BACSA,EAAS,2CACED,EAAUI,GAAGC,MAAK,wCAC9BL,EAAUI,GAAGE,QAAO,sBAI/BN,EAAAhf,UAAAuf,gBAAR,WACI,IAAMC,EAAoB1e,KAAKqV,QAAQ7Q,cAAc,IAAI0Z,EAAUI,GAAGK,UACjED,IACDA,EAASjb,GAAK,KAIfya,EAAAhf,UAAAsZ,UAAP,SAAkB9J,GAAlB,IAAA3O,EAAAC,KACIA,KAAKye,kBACL,IAAM9M,EAAOzR,SAAS6G,cAAe,OACrC4K,EAAKiN,QAAU,WACX7e,EAAKyV,aAAc9G,GACnB3O,EAAK0e,kBACL9M,EAAKlO,GAAKya,EAAUI,GAAGK,UAE3BhN,EAAKlO,GAAKya,EAAUI,GAAGK,SACvBhN,EAAK1B,UAAY3P,OAASoO,GAC1B1O,KAAKqV,QAAQrU,YAAa2Q,IA/BfuM,EAAAI,GAAK,CAChBC,MAAO,QACPC,QAAS,UACTG,SAAU,YA8BlBT,EAxDA,aAAqBA,mBCFrB,IAAA5b,EAAcpF,EAAQ,IAEtB,iBAAAoF,MAAA,EAA4CjF,EAAAC,EAASgF,EAAA,MAOrD,IAAA6C,EAAA,CAAegY,KAAA,EAEfzV,eAPAA,EAQAzB,gBAAApF,GAEa3D,EAAQ,EAARA,CAAiEoF,EAAA6C,GAE9E7C,EAAA8a,SAAA/f,EAAAD,QAAAkF,EAAA8a,0BCjBA/f,EAAAD,QAA2BF,EAAQ,EAARA,EAAiE,IAE5FwG,KAAA,CAAcrG,EAAAC,EAAS,kMAAgM,oaCDvN,IAGA0f,EAAA,SAAArR,GAGI,SAAAqR,EAAatP,EAAeb,EAAwBhN,GAApD,IAAAE,EACI4L,EAAAlO,KAAAuC,KAAO0N,EACA,CAAE/M,MAAO,EAAGC,OAAQ,GACpB,CAAEL,EAAG,EAAGC,EAAG,GACX,OACAX,IAAWG,YAClBD,EAAK8M,WAAaA,IAE1B,OAXoCT,EAAA4Q,EAAArR,GAWpCqR,EAXA,CAHA9f,EAAA,GAGoCuD,oGCJpC,IAAAmU,EAAA1X,EAAA,IACA2X,EAAA3X,EAAA,GACA2hB,EAAA3hB,EAAA,IACA4hB,EAAA5hB,EAAA,IACAkN,EAAAlN,EAAA,GACA6hB,EAAA7hB,EAAA,IACAA,EAAA,IAGA,IAAA8hB,EAAA,WASI,SAAAA,EAAatO,GACT1Q,KAAK0Q,GAAKA,EACV1Q,KAAKkV,MAAQ,IAAIN,EAAAnU,SAAO,GACxBT,KAAKif,SAAW,IAAIH,EAAAre,QAChBT,KAAKkV,MAAMlF,eACX,CACIkP,WAAYlf,KAAKkf,WAAWpgB,KAAMkB,QAG1CA,KAAKmf,gBAAkB,IAAIN,EAAApe,QAAiBT,KAAKkV,MAAMlF,eAAgBhQ,KAAKof,eAAetgB,KAAMkB,OAyBzG,OAtBYgf,EAAA9f,UAAAkgB,eAAR,SAAwBlO,GACpB,IAAMmO,EAAwBxK,EAAApU,QAAUyK,SAAUgG,EAAa9G,EAAA3J,QAAY2K,UACrEkU,EAAuBzK,EAAApU,QAAUyK,SAAUgG,EAAa9G,EAAA3J,QAAY4K,SAC1ErL,KAAKif,SAAS1M,YAAY,CACtBrB,YAAWA,EACXmO,cAAaA,EACbC,aAAYA,KAIbN,EAAA9f,UAAAsR,KAAP,SAAalG,EAAemG,EAAkBoH,GAC1C7X,KAAKof,eAAe9U,GACpBmG,EAAUA,EAAUA,EAAUuO,EAAcO,eAAiBP,EAAcO,eAC3Evf,KAAKkV,MAAM1E,KAAMC,IAGbuO,EAAA9f,UAAAggB,WAAR,SAAoBhO,EAAqBC,GAAzC,IAAApR,EAAAC,KACI+e,EAAAte,QAAO6J,MAAOhK,OAAQ4Q,IACjBsO,KAAM,SAAAlV,GAAS,OAAAvK,EAAK2Q,GAAIpG,EAAO4G,EAAaC,KAC5CsO,MAAOxV,QAAQyV,MACfF,KAAM,WAAM,OAAAzf,EAAKmV,MAAMvE,UAlCjBqO,EAAAO,eAAyB,iBAoC5CP,EA3CA,aAAqBA,iFCTrB,IAAAnK,EAAA3X,EAAA,GACAyiB,EAAAziB,EAAA,IACAA,EAAA,IAEA,IAAA0iB,EAAA,WAEI,SAAAA,EACY/f,EACAggB,GADA7f,KAAAH,YACAG,KAAA6f,gBAER,IAAMC,EAA0B5f,SAAS6G,cAAe,OACxD+Y,EAAQlP,UAAUwN,IAAK,oBACvBpe,KAAK+f,iBAAkBD,GACvB9f,KAAKH,UAAUmB,YAAa8e,GA4CpC,OAzCYF,EAAA1gB,UAAA6gB,iBAAR,SAA0BlgB,GAA1B,IAAAE,EAAAC,KACQggB,GAA6B,EACjCL,EAAAlf,QAAUM,QAAS,SAAEuJ,EAAOhN,GACxB,IAAM2iB,EAA6B/f,SAAS6G,cAAc,QAEpDmZ,EADqBrL,EAAApU,QAAUyK,SAAU5N,IACFgN,EAAM6V,SAEnDF,EAAUrP,UAAUwN,IAAI,cACnB8B,GAAiBF,GAClBC,EAAU3P,iBAAiB,QAAS,WAChC,IAAM8P,EAAOvgB,EAAU2E,cAAe,aACjC4b,IAAOA,EAAK3c,GAAK,IACtBwc,EAAUxc,GAAK,WACf1D,EAAK8f,cAAeviB,KAEpB4iB,GACAD,EAAUrP,UAAUwN,IAAI,YAE5B6B,EAAUrP,UAAUwN,IAAI,YAExB6B,EAAUrP,UAAUwN,IAAI,UAE5B6B,EAAUhQ,UAAY2P,EAAgBS,cAAc/iB,GACpDuC,EAAUmB,YAAaif,GACvBD,EAAoBE,EAEV,IAAN5iB,IAEAyC,EAAK8f,cAAeviB,GACpB2iB,EAAUxc,GAAK,eAKZmc,EAAAS,cAAf,SAA8B/V,GAC1B,MAAO,oEAEEA,EAAK,kBAItBsV,EArDA,8FCCAxiB,EAAAqD,QALkB,CACd,CAAE0f,SAAU,IAAKG,IAAK,wBACtB,CAAEH,SAAU,IAAKG,IAAK,0CCD1B,IAAAhe,EAAcpF,EAAQ,IAEtB,iBAAAoF,MAAA,EAA4CjF,EAAAC,EAASgF,EAAA,MAOrD,IAAA6C,EAAA,CAAegY,KAAA,EAEfzV,eAPAA,EAQAzB,gBAAApF,GAEa3D,EAAQ,EAARA,CAA8DoF,EAAA6C,GAE3E7C,EAAA8a,SAAA/f,EAAAD,QAAAkF,EAAA8a,yBCjBAhgB,EAAAC,EAAAD,QAA2BF,EAAQ,EAARA,EAA8D,GAEzF,IAAAqjB,EAAgBrjB,EAAQ,IACxBsjB,EAAAD,EAAyCrjB,EAAQ,KACjDujB,EAAAF,EAAyCrjB,EAAQ,KAGjDE,EAAAsG,KAAA,CAAcrG,EAAAC,EAAS,sjBAA0hBkjB,EAAA,+DAA4FC,EAAA,oIAA2L,mCCLx0BpjB,EAAAD,QAAA,SAAAsjB,EAAAC,GACA,uBAAAD,EACAA,GAIA,eAAAjN,KAAAiN,KACAA,IAAAhN,MAAA,OAKA,cAAAD,KAAAiN,IAAAC,EACA,IAAAD,EAAA/C,QAAA,YAAAA,QAAA,iBAGA+C,mBClBArjB,EAAAD,QAAA,kjHCAAC,EAAAD,QAAiBF,EAAAkC,EAAuB,0qBCAxC,IAAAyU,EAAA3W,EAAA,GACAkN,EAAAlN,EAAA,GAaA0jB,EAAA,SAAAjV,GASI,SAAAiV,EACI5Q,EACAwB,GAFJ,IAAAzR,EAII4L,EAAAlO,KAAAuC,KAAMgQ,EAAcuD,EAAA,GAAOqN,EAASC,aAAiBrP,KAAQxR,YAmDzDD,EAAA+gB,eAAiB,WACrB/gB,EAAKyR,MAAM0N,WACPnf,EAAKyR,MAAMN,YACXnR,EAAKqU,MAAM2M,iBAIXhhB,EAAAihB,kBAAoB,WACxBjhB,EAAKmU,SAAS,CACV6M,eAAgB3W,EAAA3J,QAAY2K,YAI5BrL,EAAAkhB,iBAAmB,WACvBlhB,EAAKmU,SAAS,CACV6M,eAAgB3W,EAAA3J,QAAY4K,WAhEhCtL,EAAKqU,MAAQ,CACT2M,eAAgB3W,EAAA3J,QAAY2K,UAUhCrL,EAAK+T,mBAwDb,OAlFsC1H,EAAAwU,EAAAjV,GA8BxBiV,EAAA1hB,UAAA0K,OAAV,WACU,IAAAqB,EAAAjL,KAAAwR,MACFN,EAAAjG,EAAAiG,YACAmO,EAAApU,EAAAoU,cACAC,EAAArU,EAAAqU,aAGIyB,GAFJ9V,EAAAiU,WAEIlf,KAAAoU,MAAA2M,gBAEJ3V,EAAAhB,EAAA3J,QAAA2K,SACAC,EAAAjB,EAAA3J,QAAA4K,QAEJ,OACIwI,EAAApT,QAAAsJ,EAAA,OAAKmX,UAAU,kBACXrN,EAAApT,QAAAsJ,EAAA,UAAK,SAASmH,GACd2C,EAAApT,QAAAsJ,EAAA,OAAKmX,UAAU,sBACXrN,EAAApT,QAAAsJ,EAAA,OACIoX,QAASnhB,KAAKghB,kBACdE,UAAW,WAAUH,IAAmB3V,EAAW,WAAa,KAChEyI,EAAApT,QAAAsJ,EAAA,sBACA8J,EAAApT,QAAAsJ,EAAA,UAAK,cAAcsV,IAEvBxL,EAAApT,QAAAsJ,EAAA,OACIoX,QAASnhB,KAAKihB,iBACdC,UAAW,WAAUH,IAAmB1V,EAAU,WAAa,KAC/DwI,EAAApT,QAAAsJ,EAAA,8BACA8J,EAAApT,QAAAsJ,EAAA,UAAK,cAAcuV,KAG3BzL,EAAApT,QAAAsJ,EAAA,UAAQoX,QAASnhB,KAAK8gB,gBAAc,WAzDjCF,EAAAC,aAAsB,CACjC3P,YAAa5Q,OAAS,GACtB+e,cAAe,MACfC,aAAc,MACdJ,WAAY,cA4EpB0B,EAlFA,CAAsC/M,EAAAnK,qBAAjBkX,iFCZrB,IAIAQ,EAAA,oBAAAA,KAiCA,OA5BkBA,EAAA9W,MAAd,SAAqBA,GAArB,IAAAvK,EAAAC,KACI,GAAKA,KAAKqhB,aAAaC,IAAKhX,GAAU,OAAOtK,KAAKuhB,eAAgBjX,GAClE,GAAKtK,KAAKwhB,cAAcF,IAAKhX,GAAU,OAAOtK,KAAKwhB,cAAcrjB,IAAKmM,GACtE,IAIMmX,EAAUC,MAdT,SAACpX,GAAkB,MAAyB,UAAUA,EAAK,QAc5CqX,CAAOrX,GAJA,CACzBsX,OAAQ,MACRC,QAAS,CAAEC,eAAgB,sBAG1BtC,KAAM,SAAAuC,GAAQ,OAAAA,EAAKC,SACnBxC,KAAMxf,KAAKiiB,SACXzC,KAAO,SAAA0C,GAAU,OAAAniB,EAAKoiB,UAAW7X,EAAO4X,KAE7C,OADAliB,KAAKwhB,cAAc3H,IAAKvP,EAAOmX,GACxBA,GAGIL,EAAAa,QAAf,SAAwB3X,GACpB,OAAgBA,GAGL8W,EAAAe,UAAf,SAA0B7X,EAAe4X,GAGrC,OAFAliB,KAAKwhB,cAAcY,OAAQ9X,GAC3BtK,KAAKqhB,aAAaxH,IAAKvP,EAAO4X,GACvBG,QAAQC,QAASJ,IAGbd,EAAAG,eAAf,SAA+BjX,GAC3B,OAAO+X,QAAQC,QAAStiB,KAAKqhB,aAAaljB,IAAKmM,KA7BpC8W,EAAAC,aAAoC,IAAIpM,IACxCmM,EAAAI,cAA8C,IAAIvM,IA8BrEmM,EAjCA,aAAqBA,mBCLrB,IAAA9e,EAAcpF,EAAQ,IAEtB,iBAAAoF,MAAA,EAA4CjF,EAAAC,EAASgF,EAAA,MAOrD,IAAA6C,EAAA,CAAegY,KAAA,EAEfzV,eAPAA,EAQAzB,gBAAApF,GAEa3D,EAAQ,EAARA,CAA8DoF,EAAA6C,GAE3E7C,EAAA8a,SAAA/f,EAAAD,QAAAkF,EAAA8a,0BCjBA/f,EAAAD,QAA2BF,EAAQ,EAARA,EAA8D,IAEzFwG,KAAA,CAAcrG,EAAAC,EAAS,kZAA8Y","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","import { SVGNAMESPACE } from './Constants';\nimport Vector from '../interfaces/Vector';\nimport Size from '../interfaces/Size';\nimport Trajectory from './Trajectory';\n\nexport default abstract class Entity {\n\n    public point: Vector;\n    protected size: Size;\n    protected radius: number;\n    protected traj: Trajectory;\n    protected type: 'circle'|'rect';\n    protected domElement: SVGElement;\n    protected mountNode: SVGElement;\n\n    public constructor(\n        point: Vector,\n        size: Size|number,\n        traj: Vector,\n        type: 'circle'|'rect',\n        mountNode: SVGElement,\n        attributes?: Object\n    ) {\n        this.domElement = document.createElementNS( SVGNAMESPACE, type );\n        this.type = type;\n        this.point = point;\n        this.domElement.setAttribute( 'x', String( this.point.x ) );\n        this.domElement.setAttribute( 'y', String( this.point.y ) );\n        this.traj = new Trajectory( traj );\n        if ( this.type === 'circle' ) {\n            this.radius = +size;\n            this.domElement.setAttribute( 'r', String( this.radius ) );\n        } else {\n            this.size = <Size>size;\n            this.domElement.setAttribute( 'width', String( this.size.width ) );\n            this.domElement.setAttribute( 'height', String( this.size.height ) );\n        }\n        if ( attributes !== undefined ) {\n            Object.keys(attributes).forEach( key =>\n                this.domElement.setAttribute( key, String( attributes[key] ))\n            );\n        }\n\n        this.mountNode = mountNode;\n        this.mountNode.appendChild( this.domElement );\n    }\n\n    public destroy() {\n        this.mountNode.removeChild( this.domElement );\n    }\n\n    public updateDOMPosition( newPoint?: Vector ) {\n        let xAttr: string = '';\n        let yAttr: string = '';\n        if ( newPoint !== undefined ) {\n            this.point = newPoint;\n        }\n        if ( this.type === 'circle' ) {\n            xAttr = 'cx';\n            yAttr = 'cy';\n        } else if ( this.type === 'rect' ) {\n            xAttr = 'x';\n            yAttr = 'y';\n        }\n        this.domElement.setAttribute( xAttr, String( this.point.x ) );\n        this.domElement.setAttribute( yAttr, String( this.point.y ) );\n    }\n\n    protected updateSize( size?: Size|number ) {\n        if ( this.type === 'circle' ) {\n            if ( size ) this.radius = +size;\n            this.domElement.setAttribute( 'r', String( this.radius ) );\n        } else {\n            if ( size ) this.size = <Size>size;\n            this.domElement.setAttribute( 'width', String( this.size.width ) );\n            this.domElement.setAttribute( 'height', String( this.size.height ) );\n        }\n    }\n\n    public getTraj(): Vector {\n        return this.traj;\n    }\n\n    public invertTraj( axis: 'x'|'y' ) {\n        this.traj.invert( axis );\n    }\n\n    public getNextPosition() {\n        return {\n            x: this.point.x + this.traj.x,\n            y: this.point.y + this.traj.y\n        };\n    }\n\n    public getPoint(): Vector {\n        return this.point;\n    }\n\n    public getSize(): Size {\n        return this.size;\n    }\n\n    public getRadius(): number {\n        return this.radius;\n    }\n\n}","enum PlayerTypes {\n    'capture' = 'capture',\n    'defender' = 'defender'\n}\n\nexport default PlayerTypes;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","import { h, updateElement } from './vdom';\nimport Component from './Component';\n\ndeclare global {\n  namespace JSX {\n    interface Element { }\n    interface IntrinsicElements {\n      [tagName: string]: any;\n    }\n  }\n}\n\nconst Fragment: Function = () => {\n  console.error('Fragment not implemented');\n  throw new TypeError('Fragment not implemented')\n}\n\nconst render: Function = (\n  newNode: HTMLElement|Text,\n  mountNode: HTMLElement\n) : void => {\n  updateElement(mountNode, newNode)\n}\n\nconst micro = {\n  render,\n  updateElement,\n  h,\n  Fragment,\n  Component\n}\n\nexport { Component };\nexport default micro;\n","export const SVGNAMESPACE = \"http://www.w3.org/2000/svg\";","import PlayerTypes from '../interfaces/PlayerTypes';\n\nfunction getKey( level: number): string {\n    return `level-${level}`;\n}\n\nfunction setScore( level: number, playerType: PlayerTypes, score: number): void {\n    const levelKey = getKey( level );\n    const raw = localStorage.getItem( levelKey );\n    if ( !raw ) {\n        localStorage.setItem( levelKey, JSON.stringify({\n            [playerType]: score\n        }));\n    } else {\n        let data = JSON.parse( raw );\n        if ( !data[playerType] || score > data[playerType] ) {\n            data[playerType] = score;\n            localStorage.setItem( levelKey, JSON.stringify( data ) );\n        }\n    }\n}\n\nfunction getScore( level: number, type?: PlayerTypes ): number {\n    const levelKey = getKey( level );\n    const raw = localStorage.getItem( levelKey );\n    if ( !raw ) return 0;\n    const info = JSON.parse( raw );\n    if ( !type ) {\n        if ( info.defender && info.capture ) return Math.max( info.defender, info.capture );\n        if ( info.defender ) return info.defender;\n        if ( info.capture ) return info.capture;\n    }\n    if ( type === PlayerTypes.capture ) return info.capture ? info.capture : 0;\n    if ( type === PlayerTypes.defender ) return info.defender ? info.defender : 0;\n}\n\nexport default {\n    setScore,\n    getScore\n};\n","import { SVGNAMESPACE } from './Constants';\nimport Size from '../interfaces/Size';\nimport Vector from '../interfaces/Vector';\nimport Entity from './Entity';\nimport RewardEnum from '../interfaces/Reward';\nimport PlayerConfig from '../interfaces/PlayerConfig';\nimport Controllable from '../interfaces/Controllable';\n\nexport default class Paddle extends Entity implements Controllable {\n\n    private rewardType: RewardEnum;\n    private sheild: SVGCircleElement;\n    public moveAmount: number;\n\n    constructor(\n        private boardSize: Size,\n        mountNode: SVGElement,\n        paddleConfig: PlayerConfig,\n        private emitBullet: Function\n    ) {\n        super(\n            paddleConfig.position,\n            paddleConfig.size,\n            { x: 0, y: 0 },\n            'rect',\n            mountNode,\n            paddleConfig.attributes || Paddle.defaults.attributes\n        );\n        this.sheild = document.createElementNS( SVGNAMESPACE, 'circle' );\n        this.sheild.setAttribute('cx', String( paddleConfig.position.x + paddleConfig.size.width / 2 ) );\n        this.sheild.setAttribute('cy', String( paddleConfig.position.y ) );\n        this.sheild.style.opacity = '0.3';\n        this.moveAmount = Paddle.defaults.moveAmount;\n    }\n\n    public static defaults = {\n        sizes: {\n            default: { width: 9, height: 3 },\n            wide: { width: 14, height: 3 }\n        },\n        attributes: {\n            'fill': 'gray',\n            'stroke': 'black',\n            'stroke-width': '0.5'\n        },\n        moveAmount: 3\n    };\n\n    public moveLeft(): void {\n        const nxtLeft: number = this.nextLeft();\n        if ( this.point.x !== nxtLeft ) {\n            this.point.x = nxtLeft;\n            this.updateDOMPosition();\n        }\n    }\n\n    public nextLeft(): number {\n        let maxMove = this.moveAmount;\n        while( ( this.point.x - maxMove ) < 0 ) {\n            maxMove--;\n        }\n        return this.point.x - maxMove;\n    }\n\n    public moveRight(): void {\n        const nxtRight: number = this.nextRight();\n        if ( this.point.x !== nxtRight ) {\n            this.point.x = nxtRight;\n            this.updateDOMPosition();\n        }\n    }\n\n    public nextRight(): number {\n        let maxMove = this.moveAmount;\n        while( ( this.point.x + this.size.width + maxMove ) > this.boardSize.width ) {\n            maxMove--;\n        }\n        return this.point.x + maxMove;\n    }\n\n    public applyReward( rewardType: RewardEnum ) {\n        this.rewardType = rewardType;\n        if ( this.rewardType === RewardEnum.wide ) this.makeWide();\n        else this.makeDefault();\n        this.updateColor();\n    }\n\n    private updateColor(): void {\n        this.domElement.setAttribute( 'fill', Paddle.getColor( this.rewardType ) );\n    }\n\n    private static getColor( strength: number ): string {\n        switch ( strength ) {\n            case 7: return '#FF0D72';\n            case 6: return '#0DC2FF';\n            case 5: return '#0DFF72';\n            case 4: return '#F538FF';\n            case 3: return '#FF8E0D';\n            case 2: return '#FFE138';\n            default:\n            case 1: return '#3877FF';\n        }\n    }\n    public activateSheld(): void {\n\n    }\n    public useReward(): void {\n        switch (this.rewardType) {\n            case RewardEnum.machine:\n                this.shootMachine();\n                break;\n            case RewardEnum.rocket:\n                this.shootRocket();\n                break;\n            default: break;\n        }\n    }\n    private shootRocket(): void {\n        const start: Vector = {\n            x: this.point.x + ( this.size.width / 2 ),\n            y: this.point.y - this.size.height\n        };\n        const size: Size = {\n            width: 3, height: 9\n        };\n        this.emitBullet( start, size );\n    }\n    private shootMachine(): void {\n        const size: Size = {\n            width: 1, height: 3\n        };\n        this.emitBullet({\n            x: this.point.x,\n            y: this.point.y - this.size.height\n        }, size );\n        this.emitBullet({\n            x: this.point.x + this.size.width,\n            y: this.point.y - this.size.height\n        }, size );\n    }\n    private makeWide(): void {\n        this.updateSize( Paddle.defaults.sizes.wide );\n    }\n    private makeDefault(): void {\n        this.updateSize( Paddle.defaults.sizes.default );\n    }\n    public moveUp(): void { }\n    public moveDown(): void { }\n}","import RewardEnum from '../interfaces/Reward';\nimport Size from '../interfaces/Size';\nimport Vector from '../interfaces/Vector';\nimport PlayerConfig from '../interfaces/PlayerConfig';\nimport Entity from './Entity';\nimport Controllable from '../interfaces/Controllable';\n\nexport default class Guy extends Entity implements Controllable {\n    private static defaults = {\n        speed: 1,\n        attributes: {\n            'fill': 'gray',\n            'stroke': 'black',\n            'stroke-width': '0.5'\n        }\n    }\n\n    private static MAX_WIDTH: number = 5;\n    private static MAX_HEIGHT: number = 5;\n\n    private speed: number;\n    private hitCount: number = 0;\n    public index: number;\n\n    constructor(\n        mountNode: SVGElement,\n        guyConfig: PlayerConfig\n    ) {\n        super(\n            guyConfig.position,\n            guyConfig.size,            \n            { x: 0, y: 0 },\n            'rect',\n            mountNode,\n            guyConfig.attributes || Guy.defaults.attributes    \n        );\n        this.speed = guyConfig.speed || Guy.defaults.speed;\n    }\n    public moveLeft(): void {\n        this.point.x -= this.speed;\n        this.updateDOMPosition();\n    }\n    public moveRight(): void {\n        this.point.x += this.speed;\n        this.updateDOMPosition();\n    }\n    public moveUp(): void {\n        this.point.y -= this.speed;\n        this.updateDOMPosition();\n    }\n    public moveDown(): void {\n        this.point.y += this.speed;\n        this.updateDOMPosition();\n    }\n    \n    private grow(): void {\n        if ( this.size.width >= Guy.MAX_WIDTH || this.size.height >= Guy.MAX_HEIGHT ) return;\n        this.size.width++;\n        this.size.height++;\n        this.updateSize();\n        return;\n    }\n\n    public getHit( str: number ): number {\n        this.hitCount++;\n        if ( this.hitCount % 10 ) {\n            this.grow();\n        }\n        return this.hitCount;\n    }\n\n    // TODO: implement functions below\n    public applyReward( reward: RewardEnum ): void { }\n    public setIndex( index: number ): void { this.index = index; }\n    public useReward(): void { }\n}\n","import Vector from '../interfaces/Vector';\nimport Size from '../interfaces/Size';\n\nfunction hitsIt(pointX: number, blockStart: number, width: number): boolean {\n    let val: number = (blockStart + width) - pointX;\n    return val >= 0 && val <= width;\n}\n// TODO: make isCollision be abstract, taking input Types (block|ball|paddle)\n//      and delegating work to functions that handle that case\nfunction isCollision(p1: Vector, p2: Vector, p2Size: Size): boolean {\n    return hitsIt(p1.x, p2.x, p2Size.width) &&\n           hitsIt(p1.y, p2.y, p2Size.height);\n}\n\nfunction isNear( circlePoint: Vector, blockPoint: Vector, blockSize: Size ): Boolean {\n    // TODO: This will have to change when the ball can be different radius\n    const ballRadius: number = 3;\n    const blockDist = Math.max( blockSize.width, blockSize.height );\n    const distance: number = getDistance( circlePoint, blockPoint );\n    return distance <= blockDist + ballRadius;\n}\n\nfunction getDistance( p1: Vector, p2: Vector ): number {\n    const distX = p1.x - p2.x;\n    const distY = p1.y - p2.y;\n    return Math.sqrt(\n        (distX) * (distX) +\n        (distY) * (distY)\n    );\n}\n\nexport { isCollision };\nexport { isNear };\nexport { getDistance };\n\n","import './modal.css';\n\nexport default class Modal {\n    private mdl: HTMLDivElement;\n    private p: HTMLParagraphElement;\n    private content: HTMLDivElement;\n    public extensionPoint: HTMLDivElement;\n    private cb: Function;\n\n    public constructor( showClose?: Boolean ) {\n        const mdl: HTMLDivElement = document.createElement('div');\n        const content: HTMLDivElement = document.createElement( 'div' );\n        const p: HTMLParagraphElement = document.createElement( 'p' );\n        const extensionPoint: HTMLDivElement = document.createElement( 'div' );\n        mdl.setAttribute( 'class', 'modal' );\n        content.setAttribute( 'class', 'modal-content' );\n        p.innerHTML = 'Game Paused';\n        extensionPoint.setAttribute( 'class', 'modal-template' );\n        if ( showClose !== false ) {\n            this.attachCloseButton( content );\n        }\n        content.appendChild( p );\n        content.appendChild( extensionPoint );\n        mdl.appendChild( content );\n        mdl.style.display = 'none';\n\n        document.body.appendChild( mdl );\n        this.mdl = mdl;\n        this.p = p;\n        this.content = content;\n        this.extensionPoint = extensionPoint;\n    }\n    private attachCloseButton( content: HTMLDivElement ): void {\n        const clsBtn: HTMLSpanElement = document.createElement( 'span' );\n        clsBtn.setAttribute( 'class', 'closeBtn' );\n        clsBtn.addEventListener( 'click', this.closeButton.bind( this ) );\n        clsBtn.innerHTML = '&times;';\n        content.appendChild( clsBtn );\n    }\n    public show( message: string, cb?: Function ): void {\n        if ( cb ) this.cb = cb;\n        this.p.innerHTML = message;\n        this.mdl.style.display = 'block';\n    }\n\n    private closeButton(): void {\n        if ( this.cb ) {\n            this.cb();\n            this.cb = null;\n        } else {\n            this.hide();\n        }\n    }\n    public hide(): void {\n        this.p.innerHTML = '';\n        this.mdl.style.display = 'none';\n        this.content.classList.remove( 'success', 'fail' );\n    }\n}","import micro from 'micro';\nimport GameBoard from 'App/GameBoard/GameBoard';\n\nimport LevelI from 'App/interfaces/LevelI';\nimport PlayerTypes from 'App/interfaces/PlayerTypes';\nimport LevelSelector from 'App/LevelSelector/LevelSelector';\n\nexport default class Main {\n\n    private levelSelector: LevelSelector;\n    private gameBoard: GameBoard;\n\n    constructor( private mountNode: HTMLElement ) {\n        this.levelSelector = new LevelSelector( this.setLevel.bind(this) );\n        this.levelSelector.show(0);\n    }\n\n    private setLevel( level: LevelI, levelNumber: number, option: PlayerTypes ): void {\n        this.clearLevel();\n        this.gameBoard = new GameBoard(\n            level.size,\n            this.mountNode,\n            this.levelSelector,\n            levelNumber,\n            option\n        );\n        this.gameBoard.init(level);\n    }\n\n    private clearLevel(): void {\n        if (this.gameBoard) {\n            delete this.gameBoard;\n        }\n    }\n}\n\nconst mountNode: HTMLElement = document.getElementById('gameBoard');\n\nconst start = () => new Main( mountNode );\n\nconst xstart = () => micro.render(\n    <h1 className='michael'>Hello World</h1>,\n    mountNode\n)\n\nstart();\n","// https://medium.com/@deathmood/how-to-write-your-own-virtual-dom-ee74acc13060\n// https://medium.com/@deathmood/write-your-virtual-dom-2-props-events-a957608f5c76\n\ninterface JSXType {\n  type: HTMLElementTagNameMap,\n  props: any,\n  children: JSXType[]\n}\n\nexport const h: Function = (\n  type: HTMLElementTagNameMap,\n  props: any = {},\n  ...children: JSXType[]\n): JSXType => ({\n  type,\n  props,\n  children\n})\n\nexport const createElement: Function = (node: JSXType|string): HTMLElement|Text => {\n  if (typeof node === 'string') {\n    return document.createTextNode(node);\n  }\n  const $el: HTMLElement = document.createElement( String(node.type) );\n  setProps($el, node.props);\n  addEventListeners($el, node.props);\n  node.children\n    .map( (child: JSXType) => createElement(child))\n    .forEach($el.appendChild.bind($el));\n  return $el;\n}\n\nconst changed: Function = (\n  node1: JSXType|string,\n  node2: JSXType|string\n) : boolean => {\n  const differentTypes: boolean = typeof node1 !== typeof node2;\n  if (differentTypes) return true;\n\n  if (typeof node1 === 'string') {\n    const str1 = node1 as string;\n    const str2 = node2 as string;\n    const differentStrings: boolean = str1 !== str2;\n    if (differentStrings) return true;\n  } else {\n    const n1 = node1 as JSXType;\n    const n2 = node2 as JSXType;\n    const differentTypes: boolean = n1.type !== n2.type;\n    if (differentTypes) return true;\n  }\n  return false\n}\n\nexport const updateElement: Function = (\n  $parent: HTMLElement,\n  newNode: JSXType|string,\n  oldNode: JSXType|string,\n  index = 0\n) : void => {\n  if (!oldNode) {\n    $parent.appendChild(\n      createElement(newNode)\n    );\n  } else if (!newNode) {\n    $parent.removeChild(\n      $parent.childNodes[index]\n    );\n  } else if (changed(newNode, oldNode)) {\n    $parent.replaceChild(\n      createElement(newNode),\n      $parent.childNodes[index]\n    );\n  } else if (typeof newNode === 'object' && typeof oldNode === 'object') {\n    newNode.props = newNode.props || {};\n    oldNode.props = oldNode.props || {};\n    updateProps(\n      $parent.childNodes[index],\n      newNode.props,\n      oldNode.props\n    );\n    const newLength = newNode.children.length;\n    const oldLength = oldNode.children.length;\n    for (let i = 0; i < newLength || i < oldLength; i++) {\n      updateElement(\n        $parent.childNodes[index],\n        newNode.children[i],\n        oldNode.children[i],\n        i\n      );\n    }\n  }\n}\n\nconst setProp = (\n  $target: HTMLElement,\n  name: string,\n  value: any\n) : void => {\n  if (isCustomProp(name)) {\n    return;\n  } else if (name === 'className') {\n    $target.setAttribute('class', value);\n  } else if (typeof value === 'boolean') {\n    setBooleanProp($target, name, value);\n  } else {\n    $target.setAttribute(name, value)\n  }\n}\n\nconst setProps = (\n  $target: HTMLElement,\n  props: any\n) : void => {\n  for (const key in props) {\n    setProp($target, key, props[key]);\n  }\n}\n\nconst setBooleanProp = (\n  $target: HTMLElement,\n  name: string,\n  value: any\n) : void => {\n  if (value) {\n    $target.setAttribute(name, value);\n    $target[name] = true;\n  } else {\n    $target[name] = false;\n  }\n}\n\nconst isCustomProp = (name: string) : boolean => {\n  return isEventProp(name);\n}\n\nconst removeBooleanProp = (\n  $target: HTMLElement,\n  name: string\n) : void => {\n  $target.removeAttribute(name);\n  $target[name] = false;\n}\n\nconst removeProp = (\n  $target: HTMLElement,\n  name: string,\n  value: any\n) : void => {\n  if (isCustomProp(name)) {\n    return;\n  } else if (name === 'className') {\n    $target.removeAttribute('class');\n  } else if (typeof value === 'boolean') {\n    removeBooleanProp($target, name);\n  } else {\n    $target.removeAttribute(name);\n  }\n}\n\nconst updateProp = (\n  $target: HTMLElement,\n  name: string,\n  newVal: any,\n  oldVal: any\n) : void => {\n  if (!newVal) {\n    removeProp($target, name, oldVal);\n  } else if (!oldVal || newVal !== oldVal) {\n    setProp($target, name, newVal);\n  }\n}\n\nconst updateProps: Function = (\n  $target: HTMLElement,\n  newProps: any,\n  oldProps = {}\n) : void => {\n  const props = { ...newProps, oldProps };\n  for (const prop in props) {\n    updateProp($target, prop, newProps[prop], oldProps[prop]);\n  }\n}\n\nconst isEventProp = (name: string): boolean => /^on/.test(name);\n\nconst extractEventName = (name: string): string => name.slice(2).toLowerCase();\n\nconst addEventListeners = (\n  $target: HTMLElement,\n  props: any = {}\n): void => {\n  props = props || {}\n  Object.keys(props).forEach(name => {\n    if (isEventProp(name)) {\n      $target.addEventListener(\n        extractEventName(name),\n        props[name]\n      );\n    }\n  });\n}\n\n\n\n\n// ---------------------------------------------------------------------\n// const micro = {\n//   createElement\n// }\n\n// const simple = (\n//   <h1>Hello</h1>\n// )\n// const a = (\n//   <ul>\n//     <li>item 1</li>\n//     <li>item 2</li>\n//   </ul>\n// );\n\n// const b = (\n//   <ul>\n//     <li>item 1</li>\n//     <li>hello!</li>\n//   </ul>\n// );\n\n// const $root = document.getElementById('root');\n// const $reload = document.getElementById('reload');\n\n// updateElement($root, a);\n// $reload.addEventListener('click', () => {\n//   updateElement($root, b, a);\n// });\n\n\n\n","import micro from 'micro'\n\nexport default abstract class Component<State, Props> {\n  protected state: State;\n  protected prevRender: JSX.IntrinsicElements;\n\n  constructor(\n    private extensionPoint: HTMLElement,\n    protected props: Props,\n  ) {\n\n  }\n\n  protected mountComponent(): void {\n      this.prevRender = this.render();\n      micro.render(\n          this.prevRender,\n          this.extensionPoint\n      );\n  }\n\n  private updateComponent(): void {\n      const newRender = this.render();\n      micro.updateElement(\n          this.extensionPoint,\n          newRender,\n          this.prevRender\n      );\n      this.prevRender = newRender\n  }\n\n  protected setState(newState: any) {\n      this.state = {\n          ...<Object>this.state,\n          ...newState\n      };\n      this.updateComponent();\n  }\n\n  public updateProps(props: any): void {\n      this.props = {\n          ...<Object>this.props,\n          ...props\n      }\n      this.updateComponent();\n  }\n\n  protected abstract render(): JSX.IntrinsicElements;\n\n}\n","import { SVGNAMESPACE } from './Constants';\nimport Vector from '../interfaces/Vector';\nimport Ball from './Ball';\nimport Block from './Block';\nimport ballConfig from '../interfaces/BallConfig';\nimport BlockConfig from '../interfaces/BlockConfig';\nimport Size from '../interfaces/Size';\nimport LevelI from '../interfaces/LevelI';\nimport PlayerTypes from '../interfaces/PlayerTypes';\nimport PlayerConfig from '../interfaces/PlayerConfig';\nimport AI from './AI';\nimport Paddle from './Paddle';\nimport Guy from './Guy';\nimport Bullet from './Bullet';\nimport { isCollision, isNear } from './CollisionUtil';\nimport Modal from 'biblioteca/Modal';\nimport LevelSelector from '../LevelSelector/LevelSelector';\nimport UserScore from '../UserScore/UserScore';\nimport StatusBar from './StatusBar/StatusBar';\nimport Reward from './Reward';\nimport RewardEnum from '../interfaces/Reward';\n\nexport default class GameBoard {\n    private activeKeys: Map<number, boolean>;\n    private bullets: Array<Bullet>;\n    private rewards: Array<Reward>;\n    private updateInterval: number;\n    private balls: Array<Ball>;\n    private domElement: SVGElement;\n    private renderedBlocks: Array<Block>;\n    private ai: Paddle|Guy;\n    private player: Paddle|Guy;\n    private paddle: Paddle;\n    private guy: Guy;\n    private isPaused: boolean;\n    private modal: Modal;\n    private levelEnded: boolean;\n    private statusBar: StatusBar;\n    private score: number;\n\n    public constructor(\n        private size: Size,\n        private mountNode: HTMLElement,\n        private levelSelector: LevelSelector,\n        private levelNumber: number,\n        private option: PlayerTypes\n    ) {\n        this.activeKeys = new Map();\n        this.modal = new Modal();\n        this.balls = [];\n        this.bullets = [];\n        this.rewards = [];\n        this.levelEnded = false;\n        if ( this.option === PlayerTypes.defender ) {\n            this.score = 0;\n        } else if ( this.option === PlayerTypes.capture ) {\n            this.score = 200;\n        }\n\n        this.domElement = document.createElementNS(\n            SVGNAMESPACE,\n            'svg'\n        );\n        this.domElement.setAttribute( 'xmlns', SVGNAMESPACE );\n        this.domElement.setAttribute( 'width', '85%' );\n        this.domElement.setAttribute( 'height', '100%' );\n // TODO: figure out how to set background to SVG Element\n //       or have a rect container that the rest of the elements go on to, instead of SVG element\n        this.domElement.setAttribute( 'fill', 'black' );\n        this.domElement.setAttribute( 'viewBox', '0 0 ' + this.size.width + ' ' + this.size.height );\n        // TODO: use classes instead of inline styles\n        this.domElement.setAttribute( 'style', 'border:1px solid black;' );\n        this.statusBar = new StatusBar( this.rewardSelect.bind( this ), levelNumber, this.mountNode );\n        mountNode.appendChild( this.domElement );\n    }\n    private rewardSelect( reward: RewardEnum ): void {\n        this.player.applyReward( reward );\n    }\n    public init( level: LevelI ): void {\n        // build stuff\n        this.renderedBlocks = this.renderBlocks( level.blocks );\n        this.balls = this.renderBalls( level.balls );\n        this.buildPlayerAndAI( level.paddle, level.guy );\n\n        document.body.addEventListener('keydown', this.globalKeyListener.bind( this ) );\n        this.start();\n    }\n    private buildPlayerAndAI( paddleConfig: PlayerConfig, guyConfig: PlayerConfig ): void {\n        this.paddle = this.buildPaddle( paddleConfig );\n        this.guy = this.buildGuy( guyConfig );\n\n        if ( this.option === PlayerTypes.defender ) {\n            this.player = this.paddle;\n            this.ai = this.guy;\n        } else if ( this.option === PlayerTypes.capture ) {\n            this.player = this.guy;\n            this.ai = this.paddle;\n        }\n    }\n    private destroy(): void {\n        document.body.removeEventListener('keydown', this.globalKeyListener.bind( this ));\n        while (this.mountNode.hasChildNodes()) {\n            this.mountNode.removeChild(this.mountNode.lastChild);\n        }\n    }\n    private start(): void {\n        // TODO give the user a count down before starting\n        this.modal.hide();\n        this.attachKeyListeners();\n        this.updateInterval = setInterval( this.update.bind( this ), 50 );\n        this.isPaused = false;\n    }\n    private removeKeyListeners(): void {\n        document.body.removeEventListener( 'keydown', this.keyUpDownHandler );\n        document.body.removeEventListener( 'keyup', this.keyUpDownHandler );\n    }\n    private attachKeyListeners(): void {\n        document.body.addEventListener('keydown', this.keyUpDownHandler.bind( this ) );\n        document.body.addEventListener('keyup', this.keyUpDownHandler.bind( this ) );\n    }\n    private buildPaddle( paddleConfig: PlayerConfig ): Paddle {\n        return new Paddle(\n            this.size,\n            this.domElement,\n            paddleConfig,\n            this.createBullet.bind( this )\n        );\n    }\n    private buildGuy( guyConfig: PlayerConfig ): Guy {\n        return new Guy( this.domElement, guyConfig );\n    }\n    private createBullet( start: Vector, size: Size ): void {\n        this.bullets.push( new Bullet( start, size, this.domElement ) );\n    }\n    private buildBall( ballConfig: ballConfig ): Ball {\n        return new Ball( ballConfig, this.domElement );\n    }\n    private renderBalls( balls: Array<ballConfig> ): Array<Ball> {\n        return balls.map( this.buildBall, this );\n    }\n    private renderBlocks( blocks: Array<BlockConfig> ): Array<Block> {\n        return blocks.map( this.renderBlock, this );\n    }\n    private renderBlock( block: BlockConfig ): Block {\n        return new Block( block, this.domElement, this.dropReward.bind( this ) );\n    }\n    private destroyBlock( index: number ): void {\n        this.renderedBlocks.splice( index, 1 );\n    }\n    private dropReward( start: Vector, type: RewardEnum ): void {\n        this.rewards.push( new Reward( start, type, this.domElement ) );\n    }\n    private getBlock( point: Vector ): Block {\n        let block: Block;\n        this.renderedBlocks.some( ( b: Block, i: number ) => {\n            let blockPoint: Vector = b.getPoint();\n            let blockSize: Size = b.getSize();\n\n            if ( isNear( point, blockPoint, blockSize ) &&\n                 isCollision( point, blockPoint, blockSize ) ) {\n                block = b;\n                block.setIndex( i );\n            }\n            return Boolean( block );\n        });\n        return block;\n    }\n    private getGuy( point: Vector ): Guy {\n        const guyPoint = this.guy.getPoint();\n        const guySize = this.guy.getSize();\n\n        if ( isNear( point, guyPoint, guySize ) &&\n             isCollision( point, guyPoint, guySize ) ) {\n                 return this.guy;\n             }\n    }\n    private endGame(): void {\n        UserScore.setScore( this.levelNumber, this.option, this.score );\n\n        let msg: string;\n        let success: boolean;\n\n        if ( this.option === PlayerTypes.defender ) {\n            if ( this.renderedBlocks.length === 0 ) {\n                msg = 'Level Complete!';\n                success = true;\n            } else if ( this.balls.length === 0 ) {\n                msg = 'Level Failed!';\n                success = false;\n            }\n        } else if ( this.option === PlayerTypes.capture ) {\n            if ( this.renderedBlocks.length === 0 ) {\n                msg = 'Level Failed!';\n                success = false;\n            } else if ( this.balls.length === 0 ) {\n                msg = 'Level Complete!';\n                success = true;\n            }\n        }\n        clearInterval( this.updateInterval );\n        this.levelEnded = true;\n        this.levelSelector.show( this.levelNumber, msg, success );\n        this.destroy();\n    }\n    private stop(): void {\n        this.modal.show( 'Game Paused', this.start.bind( this ) );\n        this.isPaused = true;\n        clearInterval( this.updateInterval );\n    }\n    private isGameEnded(): boolean {\n        return this.renderedBlocks.length === 0 || this.balls.length === 0;\n    }\n    private update(): void {\n        if ( this.isGameEnded() ) {\n            this.endGame();\n            return;\n        } else {\n            this.updateBalls();\n            this.updateBullets();\n            this.updateRewards();\n            this.dispatchActions();\n            this.updateAI();\n        }\n    }\n    private updateScore(): void {\n        if ( this.option === PlayerTypes.defender ) {\n            this.score += 5;\n        } else if ( this.option === PlayerTypes.capture ) {\n            this.score -= 5;\n        }\n        this.statusBar.updateScore( this.score );\n    }\n    private applyReward( reward: RewardEnum, what: PlayerTypes ): void {\n        if ( what === this.option ) this.statusBar.addReward( reward );\n        if ( what === PlayerTypes.defender ) {\n            this.paddle.applyReward( reward );\n        } else if ( what === PlayerTypes.capture ) {\n            this.guy.applyReward( reward );\n        }\n    }\n    private updateRewards(): void {\n        let toDelete: Array<number> = [];\n        let offset: number = 0;\n        this.rewards.forEach( ( reward: Reward, index: number ) => {\n            const nxtPos = reward.getNextPosition();\n            const paddlePos: Vector = this.paddle.getPoint();\n            const paddleSize: Size = this.paddle.getSize();\n\n            if ( nxtPos.y >= this.size.height ) {\n                toDelete.push( index );\n                reward.destroy();\n            } else if ( isCollision( nxtPos, paddlePos, paddleSize ) ) {\n                this.applyReward( reward.rewardType, PlayerTypes.defender );\n                toDelete.push( index );\n                reward.destroy();\n            } else {\n                reward.updateDOMPosition( nxtPos );\n            }\n        });\n        toDelete.forEach( ( idx: number ) => {\n            this.rewards.splice( idx + offset, 1 );\n            offset -= 1;\n        });\n    }\n    private updateBullets(): void {\n        let bulletsToDelete: Array<number> = [];\n        let offset: number = 0;\n        this.bullets.forEach(function( bullet: Bullet, index: number ) {\n            const speed: number = bullet.getSpeed( true );\n            let blockStrength: number;\n            let bulletStrength: number;\n            let nxtPos: Vector;\n            let curPos: Vector;\n            let hitBlockX: boolean;\n            let hitBlockY: boolean;\n            let block: Block;\n\n            for ( let indexSpeed = 0; indexSpeed < speed; indexSpeed++ ) {\n                block = null;\n                nxtPos = bullet.getNextPosition();\n                curPos = bullet.getPoint();\n                hitBlockX = hitBlockY = false;\n                if ( bullet.isDestroyed ) {\n                    bulletsToDelete.push( index );\n                    return;\n                }\n                // check if it went off screen\n                if ( nxtPos.x < 0 || nxtPos.x > this.size.width ||\n                     nxtPos.y < 0 || nxtPos.y >= this.size.height\n                    ) {\n                    bulletsToDelete.push( index );\n                    // TODO: make sure it gets deleted, don't want a memory leak\n                    bullet.destroy();\n                    return;\n                }\n\n                // check if block in front of x path\n                block = this.getBlock( { x: nxtPos.x, y: curPos.y } );\n                if ( block ) {\n                    hitBlockX = true;\n                    blockStrength = block.getStrength();\n                    bulletStrength = bullet.getStrength();\n                    if (block.getHit( bulletStrength ) <= 0) {\n                        this.destroyBlock( block.index );\n                    } else {\n                        block.setIndex( -1 );\n                    }\n                }\n\n                // check if ball in front of y path\n                block = this.getBlock( { x: curPos.x, y: nxtPos.y } );\n                if ( block ) {\n                    hitBlockY = true;\n                    blockStrength = block.getStrength();\n                    bulletStrength = bullet.getStrength();\n                    bullet.getHit( blockStrength );\n                    if (block.getHit( bulletStrength ) === 0) {\n                        this.destroyBlock( block.index );\n                    } else {\n                        block.setIndex( -1 );\n                    }\n                }\n                // check if ball in front of xy path (corner hit)\n                if ( !hitBlockX && !hitBlockY ) {\n                    block = this.getBlock( nxtPos );\n                    if (block) {\n                        blockStrength = block.getStrength();\n                        bulletStrength = bullet.getStrength();\n                        bullet.getHit( blockStrength );\n                        if (block.getHit( bulletStrength ) === 0) {\n                            this.destroyBlock( block.index );\n                        } else {\n                            block.setIndex( -1 );\n                        }\n                    }\n                }\n                bullet.update();\n            }\n        }, this);\n        bulletsToDelete.forEach( ( idx: number ) => {\n            this.bullets.splice( idx + offset, 1 );\n            offset -= 1;\n        });\n    }\n    private updateBalls(): void {\n        let ballsToDelete: Array<number> = [];\n        let offset: number = 0;\n        const paddlePos: Vector = this.paddle.getPoint();\n        const paddleSize: Size = this.paddle.getSize();\n        this.balls.forEach( function( ball: Ball, index: number ) {\n            const radius = ball.getRadius();\n            let nxtPos: Vector = ball.getNextPosition();\n            let hitBlockX: boolean;\n            let hitBlockY: boolean;\n            let block: Block|Guy;\n            let candidatPoint: Vector;\n\n            // check if it side wall\n            if ( nxtPos.x - radius < 0 || nxtPos.x + radius > this.size.width ) {\n                ball.invertTraj( 'x' );\n            }\n            // check if hit top wall or paddle\n            if ( nxtPos.y - radius < 0 || isCollision( nxtPos, paddlePos, paddleSize ) ) {\n                ball.invertTraj( 'y' );\n            }\n            // check if fell off screen\n            if ( nxtPos.y + radius >= this.size.height ) {\n                ballsToDelete.push( index );\n                // TODO: make sure it gets deleted, don't want a memory leak\n                ball.destroy();\n                return;\n            }\n\n            // check if ball in front of x path\n            nxtPos = ball.getNextPosition();\n            candidatPoint = { x: nxtPos.x, y: ball.point.y };\n            block = this.getBlock( candidatPoint ) || this.getGuy( candidatPoint );\n            if ( block ) {\n                this.updateScore();\n                hitBlockX = true;\n                ball.invertTraj( 'x' );\n                // TODO: different strength for balls\n                if (block.getHit( 1 ) === 0) {\n                    this.destroyBlock( block.index );\n                } else {\n                    block.setIndex( -1 );\n                }\n            }\n\n            // check if ball in front of y path\n            nxtPos = ball.getNextPosition();\n            candidatPoint = { x: ball.point.x, y: nxtPos.y };\n            block = this.getBlock( candidatPoint ) || this.getGuy( candidatPoint );\n            if ( block ) {\n                this.updateScore();\n                hitBlockY = true;\n                ball.invertTraj( 'y' );\n                if (block.getHit( 1 ) === 0) {\n                    this.destroyBlock( block.index );\n                } else {\n                    block.setIndex( -1 );\n                }\n            }\n            // check if ball in front of xy path (corner hit)\n            if ( !hitBlockX && !hitBlockY ) {\n                block = this.getBlock( nxtPos ) || this.getGuy( nxtPos );\n                if ( block ) {\n                    ball.invertTraj( 'y' );\n                    ball.invertTraj( 'x' );\n                    if (block.getHit( 1 ) === 0) {\n                        this.destroyBlock( block.index );\n                    } else {\n                        block.setIndex( -1 );\n                    }\n                }\n            }\n            nxtPos = ball.getNextPosition();\n            ball.updateDOMPosition( nxtPos );\n        }, this);\n        ballsToDelete.forEach( ( idx: number ) => {\n            this.balls.splice( idx + offset, 1 );\n            offset -= 1;\n        });\n    }\n    private keyUpDownHandler( e: KeyboardEvent ): void {\n        let isKeyDown: boolean = e.type === 'keydown';\n        this.activeKeys.set( e.keyCode, isKeyDown );\n    }\n    private globalKeyListener( e: KeyboardEvent ): void {\n        if ( e.keyCode === 27 && this.levelEnded === false ) {\n            this.pauseGame();\n        }\n    }\n    private dispatchActions(): void {\n        this.activeKeys.forEach( ( value: boolean, key: number ): void => {\n            if ( value ) {\n                switch ( key ) {\n                    case 65:\n                    case 37:\n                        this.onKeyLeft();\n                        break;\n                    case 68:\n                    case 39:\n                        this.onKeyRight();\n                        break;\n                    case 38:\n                    case 87:\n                        this.onKeyUp();\n                        break;\n                    case 40:\n                    case 83:\n                        this.onKeyDown();\n                        break;\n                    case 32:\n                        this.onSpaceBar();\n                        break;\n                    default: break;\n                }\n            }\n        });\n    }\n    private onKeyUp(): void {\n        this.player.moveUp();\n    }\n    private onKeyDown(): void {\n        this.player.moveDown();\n    }\n    private onKeyLeft(): void {\n        this.player.moveLeft();\n    }\n    private onKeyRight(): void {\n        this.player.moveRight();\n    }\n    private onSpaceBar(): void {\n        this.player.useReward();\n    }\n    private updateAI(): void {\n        AI.makeMove(\n            this.ai,\n            this.balls,\n            this.rewards,\n            this.size\n        );\n    }\n    private pauseGame(): void {\n        if ( this.isPaused ) {\n            this.start();\n        } else {\n            this.stop();\n        }\n    }\n\n}","import { SVGNAMESPACE } from './Constants';\nimport Vector from '../interfaces/Vector';\nimport Trajectory from './Trajectory';\nimport ballConfig from '../interfaces/BallConfig';\nimport Entity from './Entity';\n\nexport default class Ball extends Entity {\n\n    constructor( ballConfig: ballConfig, mountNode: SVGElement ) {\n        super( ballConfig.point, ballConfig.radius, ballConfig.trajectory, 'circle', mountNode );\n    }\n}\n","import Vector  from '../interfaces/Vector';\nexport default class Trajectory {\n    public x: number;\n    public y: number;\n    constructor( point: Vector ) {\n        this.x = point.x;\n        this.y = point.y;\n    }\n    public invert( axis: 'x'|'y' ) {\n        this[axis] = this[axis] * -1;\n    }\n    public speed( val: number ) {\n        this.x = this.x > 0 ? this.x + val : this.x - val;\n        this.y = this.y > 0 ? this.y + val : this.y - val;\n    }\n    public getSpeed( abs: Boolean ): number {\n        let hyp: number = Math.hypot( this.x, this.y );\n        return abs ? Math.abs( hyp ) : hyp;\n    }\n}","import BlockConfig from '../interfaces/BlockConfig';\nimport Reward from '../interfaces/Reward';\nimport Entity from './Entity';\n\n// TODO:\n// -- blocks that drop rewards\n// -- animations on hit\n\nexport default class Block extends Entity {\n\n    public index: number;\n    private strength: number;\n    private reward: Reward;\n    private dropReward: Function;\n\n    public constructor( config: BlockConfig, mountNode: SVGElement, dropReward: Function ) {\n        const attributes = {\n            'fill': Block.getBlockColor( config.strength ),\n            'stroke': 'black',\n            'stroke-width': '0.5'\n        };\n        super( config.point, config.size, { x: 0, y: 0 }, 'rect', mountNode, attributes );\n        if ( config.strength ) {\n            this.strength = config.strength;\n        } else {\n            this.strength = 1;\n        }\n        this.dropReward = dropReward;\n        this.reward = config.reward;\n        this.index = -1;\n    }\n    public setIndex( index: number ) {\n        this.index = index;\n    }\n    public getStrength(): number {\n        return this.strength;\n    }\n    public getHit( strength: number ): number {\n        this.strength -= strength;\n        this.updateColor();\n        if ( this.strength <= 0 ) {\n            if ( this.reward > -1) {\n                this.dropReward( this.point, this.reward );\n            }\n            this.destroy();\n        }\n        return this.strength;\n    }\n    private updateColor(): void {\n        this.domElement.setAttribute( 'fill', Block.getBlockColor( this.strength ) );\n    }\n    private static getBlockColor( strength: number ): string {\n        switch ( strength ) {\n            case 7: return '#FF0D72';\n            case 6: return '#0DC2FF';\n            case 5: return '#0DFF72';\n            case 4: return '#F538FF';\n            case 3: return '#FF8E0D';\n            case 2: return '#FFE138';\n            default:\n            case 1: return '#3877FF';\n        }\n    }\n}\n","import Paddle from './Paddle';\nimport Guy from './Guy';\nimport Ball from './Ball';\nimport Reward from './Reward';\nimport Entity from './Entity';\nimport { isCollision } from './CollisionUtil';\n\nimport Vector from '../interfaces/Vector';\nimport Size from '../interfaces/Size';\n\n/**\n * TODO: scoring for the AI\n *  each paddle move is bad\n *  each power up use is bad\n *  each power up switch is bad\n *  each ball drop is bad\n */\n\nfunction makeMove( ai: Paddle|Guy, balls: Array<Ball>, rewards: Array<Reward>, size: Size ): void {\n    if ( ai instanceof Paddle ) {\n        makePaddleMove( ai, balls, rewards, size );\n    } else if ( ai instanceof Guy ) {\n        makeGuyMove( ai, balls, size );\n    }\n}\nfunction likelyToFallFirst( a: Entity, b: Entity ): -1|0|1 {\n    const aTraj = a.getTraj();\n    const bTraj = b.getTraj();\n    const aY = a.getPoint().y;\n    const bY = b.getPoint().y;\n\n    // if only one is heading down return that one\n    if ( aTraj.y > 0 && bTraj.y < 0) return -1;\n    if ( bTraj.y > 0 && aTraj.y < 0) return 1;\n\n    // if both are heading down return the lower one\n    if ( bTraj.y > 0 && aTraj.y > 0) return aY > bY ? -1 : 1;\n\n    // if both are heading up return the higher one\n    if ( bTraj.y < 0 && aTraj.y < 0) return aY > bY ? 1 : -1;\n\n    // default case\n    return -1;\n}\nfunction catchable( entity: Entity, paddle: Paddle, size: Size ): boolean {\n    const paddleSize: Size = paddle.getSize();\n    const dropPoint: Vector = getEntityDropPoint( entity, size, paddleSize.height );\n    if ( !isLeft( dropPoint, paddle) && !isRight( dropPoint, paddle ) ) return true;\n    const movesTillDrop: number = getMovesTillDrop( entity, size.height, paddleSize.height );\n    const nearestPaddlePoint: number = dropPoint.x > paddle.point.x ? paddle.point.x + paddleSize.width : paddle.point.x;\n    const distance: number = Math.abs( nearestPaddlePoint - dropPoint.x );\n    return ( paddle.moveAmount * movesTillDrop ) > distance;\n}\nfunction makePaddleMove( paddle: Paddle, balls: Array<Ball>, rewards: Array<Reward>, size: Size ): void {\n    // TODO: don't always try to use reward\n    paddle.useReward();\n    const entitiesToGoFor: Array<Entity> = balls//.concat( rewards )\n        .filter( e => catchable( e, paddle, size ) )\n        .sort( likelyToFallFirst );\n    movePaddleToEntity(\n        paddle,\n        entitiesToGoFor,\n        size\n    );\n}\nfunction getHighestEntity( entities: Array<Entity> ): Entity {\n    let highestEntity: Entity = entities[0];\n    entities.forEach( entity => {\n        if ( highestEntity.point.y > entity.point.y )\n            highestEntity = entity;\n    });\n    return highestEntity;\n}\nfunction getLowestEntity( entities: Array<Entity> ): Entity {\n    let lowestEntity: Entity = entities[0];\n    entities.forEach( entity => {\n        if ( lowestEntity.point.y < entity.point.y )\n            lowestEntity = entity;\n    });\n    return lowestEntity;\n}\nfunction movePaddleToEntity( paddle: Paddle, entities: Array<Entity>, size: Size ): void {\n    if ( entities.length === 0 ) return;\n    const paddleHeight: number = paddle.getSize().height;\n    const onlyOneLeft: boolean = entities.length === 1;\n    const nxtPoint: Vector = getEntityDropPoint( entities[0], size, paddleHeight );\n    const nxtNxtPoint: Vector = onlyOneLeft ? nxtPoint : getEntityDropPoint( entities[1], size, paddleHeight );\n    if ( isLeft( nxtPoint, paddle ) || canAndShouldMoveLeft( nxtNxtPoint, nxtPoint, paddle ) ) {\n        paddle.moveLeft();\n    } else if ( isRight( nxtPoint, paddle ) || canAndShouldMoveRight( nxtNxtPoint, nxtPoint, paddle ) ) {\n        paddle.moveRight();\n    }\n}\n\n// function getNextMove( entity: Entity, dropPoint: Vector ): Entity {\n//     const traj: Vector = entity.getTraj();\n//     return new Entity (\n//         dropPoint,\n//         entity.getSize(),\n//         { x:traj.x, y: traj.y * -1 },\n//         'circle',\n//         SVGElement.prototype\n//     );\n// }\n\nfunction canAndShouldMoveLeft( candidate: Vector, current: Vector, paddle: Paddle): boolean {\n    return isLeft( candidate, paddle ) &&\n           isCollision( current,\n                        { x: paddle.nextLeft(), y: paddle.point.y },\n                        paddle.getSize()\n           );\n}\n\nfunction canAndShouldMoveRight( candidate: Vector, current: Vector, paddle: Paddle ): boolean {\n    return isRight( candidate, paddle ) &&\n           isCollision( current,\n                        { x: paddle.nextRight(), y: paddle.point.y },\n                        paddle.getSize()\n           );\n}\n\nfunction getMovesTillDrop( entity: Entity, boardHeight: number, paddleHeight: number ): number {\n    const traj: Vector = entity.getTraj();\n    const movesUpAndDown: number = traj.y > 0 ? 0 : 2 * entity.point.y;\n    const movesTillPaddle: number = boardHeight - paddleHeight - entity.point.y;\n    return ( movesUpAndDown + movesTillPaddle) / Math.abs( traj.y );\n}\nfunction getEntityDropPoint( entity: Entity, boardSize: Size, paddleHeight: number ): Vector {\n    // naive algorithm that ignores blocks\n    const traj: Vector = entity.getTraj();\n    const point: Vector = entity.getPoint();\n    const movesTillHit: number = getMovesTillDrop( entity, boardSize.height, paddleHeight );\n    let xCoord: number = point.x + ( traj.x * movesTillHit );\n    const xOverFlow: number = xCoord - boardSize.width;\n\n    if ( xOverFlow > 0 ) {\n        xCoord -= xOverFlow * 2;\n    }\n\n    return {\n        x: Math.abs( xCoord ),\n        y: boardSize.height - paddleHeight - 0.5\n    };\n}\nfunction isLeft( point: Vector, paddle: Paddle ): boolean {\n    return point.x <= paddle.point.x;\n}\nfunction isRight( point: Vector, paddle: Paddle): boolean {\n    return point.x >= paddle.point.x + paddle.getSize().width - 1;\n}\nfunction makeGuyMove( guy: Guy, balls: Array<Ball>, size: Size ): void {\n\n}\nexport default {\n    makeMove\n};\n","enum Reward {\n    'none',\n    'rocket',\n    'machine',\n    'wide'\n}\n\nexport default Reward;\n","import { SVGNAMESPACE } from './Constants';\nimport Entity from './Entity';\nimport Size from '../interfaces/Size';\nimport Trajectory from './Trajectory';\nimport Vector from '../interfaces/Vector';\n\nexport default class Bullet extends Entity {\n\n    private strength: number;\n    public isDestroyed: Boolean;\n\n    constructor( point: Vector, size: Size, mountNode: SVGElement ) {\n        const attributes = {\n            'fill': 'red',\n            'stroke': 'black',\n            'stroke-width': '0.5'\n        };\n        super( point, size, { x: 0, y: -9 }, 'rect', mountNode, attributes );\n        this.strength = 1;\n\n        this.isDestroyed = false;\n    }\n    public getNextPosition(): Vector {\n        return {\n            x: this.point.x + Math.sign(this.traj.x),\n            y: this.point.y + Math.sign(this.traj.y)\n        };\n    }\n    public getStrength(): number {\n        return this.strength;\n    }\n    public getHit( strength: number ): number {\n        this.strength -= strength;\n        if (this.strength <= 0) {\n            this.destroy();\n        }\n        return this.strength;\n    }\n    public getSpeed( abs: Boolean ): number {\n        return this.traj.getSpeed( abs );\n    }\n    public update(): void {\n        this.point = this.getNextPosition();\n        this.updateDOMPosition();\n    }\n    public destroy(): void {\n        // TODO: add some cool animations on destroy\n        this.isDestroyed = true;\n        this.mountNode.removeChild(this.domElement);\n    }\n}","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./modal.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./modal.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./modal.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".modal {\\n    position: fixed;\\n    z-index: 1;\\n    left: 0;\\n    top: 0;\\n    height: 100%;\\n    width: 100%;\\n    overflow: auto;\\n    background-color: rgba(0,0,0,0.5);\\n}\\n\\n.modal-content {\\n    font-family: ARCADECLASSIC;\\n    font-size: 30px;\\n    background-color: #f4f4f4;\\n    margin: 20px auto;\\n    padding: 20px;\\n    width: 70%;\\n    text-align: center;\\n    box-shadow: 0 5px 8px 0 rgba(0,0,0,0.2),0 7px, 20px, 0 rgba(0,0,0,0.17);\\n}\\n.modal-content.fail {\\n    border: 15px solid #ad0e0e;\\n}\\n.modal-content.success {\\n    border: 15px solid #008000;\\n}\\n.modal-template {\\n    overflow: auto;\\n}\\n\\n.closeBtn {\\n    color: #ccc;\\n    float: right;\\n    font-size: 30px;\\n}\\n\\n.closeBtn:hover,\\n.closeBtn:focus {\\n    color: #000;\\n    text-decoration: none;\\n    cursor: pointer;\\n}\\n\", \"\"]);\n\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","import RewardEnum from '../../interfaces/Reward';\nimport './status-bar.css';\n\nexport default class StatusBar {\n    private mountNode: HTMLElement;\n    private domElement: HTMLDivElement;\n    private score: Element;\n    private rewards: Element;\n    private rewardSelect: Function;\n\n    constructor( rewardSelect: Function, levelName: number, mountNode: HTMLElement ) {\n        this.rewardSelect = rewardSelect;\n        this.mountNode = mountNode;\n        this.domElement = document.createElement( 'div' );\n        this.domElement.classList.add( 'status-bar' );\n        this.domElement.innerHTML = StatusBar.getInnerHTML( String ( levelName ) );\n        this.score = this.domElement.querySelector( `#${StatusBar.ID.SCORE}` );\n        this.rewards = this.domElement.querySelector( `#${StatusBar.ID.REWARDS}` );\n\n        mountNode.appendChild( this.domElement );\n    }\n\n    public updateScore( score: number ): void {\n        this.score.innerHTML = String( score );\n    }\n\n    private static ID = {\n        SCORE: 'score',\n        REWARDS: 'rewards',\n        SELECTED: 'selected'\n    };\n\n    private static getInnerHTML( levelName: string ): string {\n        return `\n            <h3>Level ${levelName}</h3>\n            <h4>Score: <span id='${StatusBar.ID.SCORE}'></span></h4>\n            <div id='${StatusBar.ID.REWARDS}'></div>\n        `;\n    }\n\n    private removeSelection(): void {\n        const selected: Element = this.rewards.querySelector(`#${StatusBar.ID.SELECTED}`);\n        if ( selected ) {\n            selected.id = '';\n        }\n    }\n\n    public addReward( reward: RewardEnum ): void {\n        this.removeSelection();\n        const node = document.createElement( 'div' );\n        node.onclick = () => {\n            this.rewardSelect( reward );\n            this.removeSelection();\n            node.id = StatusBar.ID.SELECTED;\n        };\n        node.id = StatusBar.ID.SELECTED;\n        node.innerHTML = String ( reward );\n        this.rewards.appendChild( node );\n    }\n}\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./status-bar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!./status-bar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./status-bar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".status-bar {\\n    font-family: ARCADECLASSIC;\\n    float: right;\\n    width: calc( 15% - 2px );\\n    text-align: center;\\n}\\n.status-bar #rewards #selected {\\n    border: 2px solid red;\\n}\\n\", \"\"]);\n\n","import RewardEnum from '../interfaces/Reward';\nimport Entity from './Entity';\nimport Vector from '../interfaces/Vector';\n\nexport default class Reward extends Entity {\n    public rewardType: RewardEnum;\n\n    constructor( start: Vector, rewardType: RewardEnum, mountNode: SVGElement ) {\n        super( start,\n               { width: 3, height: 3 },\n               { x: 0, y: 1 },\n               'rect',\n               mountNode );\n        this.rewardType = rewardType;\n    }\n}\n","import Modal from 'biblioteca/Modal';\nimport UserScore from '../UserScore/UserScore';\nimport LevelThumbNails from './LevelThumbNails';\nimport Overview from './Overview';\nimport PlayerTypes from '../interfaces/PlayerTypes';\nimport Loader from 'util/Loader';\nimport './level-selector.css';\n\n\nexport default class LevelSelector {\n\n    private modal: Modal;\n    private cb: Function;\n    private levelThumbNails: LevelThumbNails;\n    private overview: Overview;\n\n    private static defaultMessage: string = 'Choose a level';\n\n    constructor( cb: Function ) {\n        this.cb = cb;\n        this.modal = new Modal( false );\n        this.overview = new Overview(\n            this.modal.extensionPoint,\n            {\n                startLevel: this.startLevel.bind( this )\n            }\n        );\n        this.levelThumbNails = new LevelThumbNails( this.modal.extensionPoint, this.updateOverview.bind( this ) );\n    }\n\n    private updateOverview( levelNumber: number ): void {\n        const defenderScore: number = UserScore.getScore( levelNumber, PlayerTypes.defender );\n        const captureScore: number = UserScore.getScore( levelNumber, PlayerTypes.capture );\n        this.overview.updateProps({\n            levelNumber,\n            defenderScore,\n            captureScore\n        });\n    }\n\n    public show( level: number, message?: string, success?: Boolean ): void {\n        this.updateOverview(level);\n        message = message ? message + LevelSelector.defaultMessage : LevelSelector.defaultMessage;\n        this.modal.show( message );\n    }\n\n    private startLevel( levelNumber: number, option: PlayerTypes ): void {\n        Loader.level( String( levelNumber ) )\n            .then( level => this.cb( level, levelNumber, option ) )\n            .catch( console.warn )\n            .then( () => this.modal.hide() );\n    }\n}\n","import UserScore from '../UserScore/UserScore';\nimport AllLevels from './levels/AllLevels';\nimport './level-thumb-nail.css';\n\nexport default class LevelThumbNails {\n\n    constructor(\n        private mountNode: HTMLElement,\n        private levelSelectCB: Function\n    ) {\n        const domNode: HTMLDivElement = document.createElement( 'div' );\n        domNode.classList.add( 'level-thumbnails' );\n        this.attachLevelNodes( domNode );\n        this.mountNode.appendChild( domNode );\n    }\n\n    private attachLevelNodes( mountNode: HTMLDivElement ): void {\n        let prevLevelComplete: Boolean = true;\n        AllLevels.forEach( ( level, i ) => {\n            const levelNode: HTMLSpanElement = document.createElement('span');\n            const levelScore: number = UserScore.getScore( i );\n            const levelComplete: Boolean = levelScore >= level.minScore;\n\n            levelNode.classList.add('level-node');\n            if ( levelComplete || prevLevelComplete ) {\n                levelNode.addEventListener('click', () => {\n                    const prev = mountNode.querySelector( '#selected' );\n                    if ( prev ) prev.id = '';\n                    levelNode.id = 'selected';\n                    this.levelSelectCB( i );\n                });\n                if (levelComplete) {\n                    levelNode.classList.add('complete');\n                }\n                levelNode.classList.add('allowed');\n            } else {\n                levelNode.classList.add('locked');\n            }\n            levelNode.innerHTML = LevelThumbNails.levelTemplate(i);\n            mountNode.appendChild( levelNode );\n            prevLevelComplete = levelComplete;\n\n            if (i === 0) {\n                // Select first level // TODO: select highest unlocked level\n                this.levelSelectCB( i );\n                levelNode.id = 'selected';\n            }\n        });\n    }\n\n    private static levelTemplate( level: number ): string {\n        return `\n            <img width='48px' height='48px' />\n            <p>${level}</p>\n        `;\n    }\n\n}\n","const AllLevels = [\n    { minScore: 100, src: 'static/thumbnail.png' },\n    { minScore: 200, src: 'static/thumbnail.png' }\n];\n\nexport default AllLevels;","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./level-thumb-nail.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./level-thumb-nail.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./level-thumb-nail.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar urlEscape = require(\"../../../node_modules/css-loader/dist/runtime/url-escape.js\");\nvar ___CSS_LOADER_URL___0___ = urlEscape(require(\"./images/locked.png\"));\nvar ___CSS_LOADER_URL___1___ = urlEscape(require(\"./images/completed.png\"));\n\n// Module\nexports.push([module.id, \".level-thumbnails {\\n    display: flex;\\n    height: 400px;\\n    width: 400px;\\n    min-height: 400px;\\n    float: left;\\n}\\n\\n.level-node {\\n    display: inline-flex;\\n    flex-direction: column;\\n    align-items: center;\\n    width: 98px;\\n    height: 98px;\\n    padding: 5px;\\n    margin: 5px;\\n}\\n.level-node#selected {\\n    background: pink;\\n}\\n.level-node.allowed:hover {\\n    background: pink;\\n    cursor: pointer;\\n}\\n.level-node.locked:hover {\\n    background: thistle;\\n    cursor: not-allowed;\\n}\\n.level-node.locked img {\\n    background-image: url(\" + ___CSS_LOADER_URL___0___ + \")\\n}\\n.level-node.complete img {\\n    background-image: url(\" + ___CSS_LOADER_URL___1___ + \")\\n}\\n.level-node img {\\n    border: 2px solid black;\\n    background-size: contain;\\n}\\n.level-node p {\\n    margin: 5px 0;\\n}\\n\", \"\"]);\n\n","\"use strict\";\n\nmodule.exports = function escape(url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"';\n  }\n\n  return url;\n};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"d442f0bafcf0e5ed1250613b96a7032f.png\";","import micro, { Component } from 'micro';\nimport PlayerTypes from '../interfaces/PlayerTypes';\n\ninterface Props {\n    levelNumber?: string;\n    defenderScore?: string;\n    captureScore?: string;\n    startLevel?: Function;\n}\n\ninterface State {\n    selectedOption: PlayerTypes;\n}\n\nexport default class Overview extends Component<State, Props> {\n\n    private static defaultProps: Props = {\n        levelNumber: String ( 0 ),\n        defenderScore: 'def',\n        captureScore: 'cap',\n        startLevel: (): void => undefined\n    };\n\n    constructor(\n        extensionPoint: HTMLElement,\n        props: Props\n    ) {\n        super(extensionPoint, { ...Overview.defaultProps, ...props });\n\n        this.state = {\n            selectedOption: PlayerTypes.defender,\n        };\n\n        // this.props = {\n        //     levelNumber: String ( 0 ),\n        //     defenderScore: 'def',\n        //     captureScore: 'cap',\n        //     // startLevel: this.callStartLevel\n        // };\n\n        this.mountComponent();\n    }\n\n\n    protected render() {\n        const {\n            levelNumber,\n            defenderScore,\n            captureScore,\n            startLevel\n        } = this.props;\n        const { selectedOption } = this.state;\n        const {\n            defender,\n            capture,\n        } = PlayerTypes;\n        return (\n            <div className='level-overview'>\n                <h3>{`Level ${levelNumber}`}</h3>\n                <div className='character-selector'>\n                    <div\n                        onClick={this.setOptionDefender}\n                        className={`option ${selectedOption === defender ? 'selected' : ''}`}>\n                        <h5>Defender</h5>\n                        <h5>{`Highscore: ${defenderScore}`}</h5>\n                    </div>\n                    <div\n                        onClick={this.setOptionCapture}\n                        className={`option ${selectedOption === capture ? 'selected' : ''}`}>\n                        <h5>Capture the Flag</h5>\n                        <h5>{`Highscore: ${captureScore}`}</h5>\n                    </div>\n                </div>\n                <button onClick={this.callStartLevel}>START</button>\n            </div>\n        );\n    }\n\n    private callStartLevel = (): void => {\n        this.props.startLevel(\n            this.props.levelNumber,\n            this.state.selectedOption\n        );\n    }\n\n    private setOptionDefender = (): void  => {\n        this.setState({\n            selectedOption: PlayerTypes.defender\n        });\n    }\n\n    private setOptionCapture = (): void => {\n        this.setState({\n            selectedOption: PlayerTypes.capture\n        });\n    }\n}\n","import LevelI from 'App/interfaces/LevelI';\n\nconst isDev = process.env.NODE_ENV === 'development';\n\nconst getUrl = (level: string) => `${isDev ? 'static/' : ''}levels/${level}.json`;\n\nexport default class Load {\n\n    private static loadedLevels: Map<string, LevelI> = new Map();\n    private static pendingLevels: Map<string, Promise<LevelI>> = new Map();\n\n    public static level( level: string): Promise<LevelI> {\n        if ( this.loadedLevels.has( level ) ) return this.serveFromCache( level );\n        if ( this.pendingLevels.has( level ) ) return this.pendingLevels.get( level );\n        const options: RequestInit = {\n            method: 'get',\n            headers: { 'Content-Type': 'application/json' }\n        };\n        const promise = fetch(getUrl(level), options )\n            .then( resp => resp.json() )\n            .then( this.toLevel )\n            .then ( levelI => this.saveLevel( level, levelI) );\n        this.pendingLevels.set( level, promise );\n        return promise;\n    }\n\n    private static toLevel( level: Object ): LevelI {\n        return <LevelI> level;\n    }\n\n    private static saveLevel( level: string, levelI: LevelI ): Promise<LevelI> {\n        this.pendingLevels.delete( level );\n        this.loadedLevels.set( level, levelI );\n        return Promise.resolve( levelI );\n    }\n\n    private static serveFromCache( level: string ): Promise<LevelI> {\n        return Promise.resolve( this.loadedLevels.get( level ) );\n    }\n}\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./level-selector.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./level-selector.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./level-selector.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".level-overview {\\n    min-height: 400px;\\n    border: 2px solid black;\\n    float: right;\\n}\\n.level-overview .character-selector .option {\\nfloat: left;\\nmargin: 5px;\\npadding: 5px;\\nborder: 1px solid black;\\n}\\n.level-overview .character-selector .option:hover {\\n    background: pink;\\n    cursor: pointer;\\n}\\n.level-overview .character-selector .option.selected {\\n    background: pink;\\n}\\n\\n\", \"\"]);\n\n"],"sourceRoot":""}